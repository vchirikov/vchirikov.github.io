import{q as O,v as U,j as ie,u as le,w as qe,e as j,f as S,g as b,d as w,s as D,r as ae,t as m,i as o,c as a,M,F as B,x as ce,b as v,o as L,y as He,z as Ze,A as oe,B as de,C as he,G as Ge,H as F,k as Je,I as Ke,J as Qe,K as We,T as Xe,L as Ye,E as et,a as tt,N as nt}from"../../../chunk-4f12729c.js";import{A as C}from"../../../chunk-afc3f033.js";import{n as rt,a as st,i as ue,l as W,b as it,c as N}from"../../../chunk-b9674078.js";import{_ as X}from"../../../chunk-704646a9.js";class R{cancelled=!1;callbacks;cancellationToken=new $(this);static createLinked(r){const t=new R,n=r.register(()=>{n(),t.cancel()}),s=t.dispose.bind(t);return t.dispose=(()=>{n(),s()}).bind(t),t}get isCancelled(){return this.cancelled}get token(){return this.cancellationToken}cancel(){if(!this.cancelled){if(this.cancelled=!0,this.callbacks)for(const r of this.callbacks)r();this.dispose()}}dispose(){this.callbacks?.clear(),delete this.callbacks}register(r){return this.cancelled?(r(),rt):(this.callbacks??=new Set,this.callbacks.add(r),()=>this.unregister(r))}unregister(r){this.callbacks?.delete(r)}}class ${static Error=new Error("Operation was cancelled");static none;static get None(){return $.none||=new $}source;promise;constructor(r){this.source=r}get canBeCanceled(){return!!this.source}get isCancelled(){return this.source?.isCancelled??!1}throwIfCancelled(){if(this.isCancelled)throw $.Error}register(r){return this.source?.register(r)}asPromise(){return this.promise??=this.createPromise()}createPromise(){return this.isCancelled?Promise.reject($.Error):this.source?new Promise((r,t)=>{const n=this.source.register(()=>{n(),t($.Error)})}):st}then(r,t){return this.asPromise().then(r,t)}}function lt(){return O().get(U.LocalStorage)}const at=m('<input tabindex="0" type="text" class="input-bordered input h-full w-full opacity-50 transition-opacity hover:opacity-80 focus:opacity-80">',1),ct=e=>{const r=le(),t=qe(),{LL:n,locale:s}=j(),c=O(),l=`${r.servedUrl}/stork/${s()}.st`;let i="",h=new R;const d=c.get(U.StorkClientProvider),g=S(()=>d?.getOrCreate(e.name)),x=async u=>{if(u.preventDefault(),!!g())try{if(i=u.target.value??"",h.cancel(),h=new R,e.searchDataCallback(),!i)return;const f=await g().search(i,l,h.token);h.token.throwIfCancelled(),e.searchDataCallback(f)}catch(f){t.error("Search unhandled error: ",f)}};return(()=>{const u=b(at);return u.$$input=f=>x(f),w(()=>D(u,"placeholder",n().search())),ae(),u})()};ie(["input"]);const ot=m('<mark class="bg-warning text-neutral rounded-sm px-1"></mark>',2),dt=m("<span></span>",2),T=new TextDecoder,ht=new TextEncoder,Y=e=>{const r=S(()=>{const t=e.highlightByBytes?ht.encode(e.text):void 0,n=e.highlightByBytes?t.byteLength:e.text?.length??0;let s=0;const c=[];for(const l of e.highlight_ranges){const i={...l};if(i.beginning>n)continue;i.end>n&&(i.end=n);const h=e.highlightByBytes?T.decode(t.slice(s,i.beginning)):e.text.slice(s,i.beginning);c.push(h);const d=(()=>{const g=b(ot);return o(g,(()=>{const x=S(()=>!!e.highlightByBytes);return()=>x()?T.decode(t.slice(i.beginning,i.end)):e.text.slice(i.beginning,i.end)})()),g})();c.push(d),s=i.end}if(s<n){const l=e.highlightByBytes?T.decode(t.slice(s)):e.text.slice(Math.max(0,s));c.push(l)}return c});return a(ce,{get fallback(){return S(()=>e.text)},get children(){return a(M,{get when(){return e.highlight_ranges},get children(){return a(B,{get each(){return r()},get fallback(){return S(()=>e.text)},children:t=>(()=>{const n=b(dt);return o(n,t),n})()})}})}})},ut=m('<div class="flex flex-1 flex-row flex-nowrap items-center justify-between break-all md:break-words"><div class="flex flex-1 flex-col flex-nowrap"><div class="text-lg font-semibold"></div><div class="pt-2 text-sm"></div></div><div class="badge-outline badge badge-sm"></div></div>',10),gt=m('<div class=""><p>...<!#><!/>...</p></div>',6),ft=e=>{const{LL:r}=j();return(()=>{const t=b(ut),n=t.firstChild,s=n.firstChild,c=s.nextSibling,l=n.nextSibling;return o(s,a(Y,{get text(){return e.searchDataResult.entry.title},highlightByBytes:!0,get highlight_ranges(){return e.searchDataResult.title_highlight_ranges}})),o(c,a(B,{get each(){return e.searchDataResult.excerpts},children:i=>(()=>{const h=b(gt),d=h.firstChild,g=d.firstChild,x=g.nextSibling,[u,f]=v(x.nextSibling);return u.nextSibling,o(d,a(Y,{get text(){return i.text},highlightByBytes:!1,get highlight_ranges(){return i.highlight_ranges}}),u,f),h})()})),o(l,()=>`${r().stork_score()}: ${e.searchDataResult.score}`),t})()},bt=m('<div class="flex flex-1 flex-row flex-nowrap items-center justify-center"><div><!#><!/>&nbsp;<pre class="kbd kbd-md text-primary inline">^^^</pre></div></div>',8),mt=m('<div class="flex flex-1 flex-row flex-nowrap items-center justify-center"><div><!#><!/>&nbsp;<pre class="kbd kbd-md text-primary inline">(╯°□°)╯︵ ┻━┻</pre></div></div>',8),xt=m('<div class="m-0 flex flex-1 flex-col flex-nowrap items-start justify-start p-0 py-2"></div>',2),vt=e=>{const{LL:r}=j();return a(ce,{get children(){return[a(M,{get when(){return!e.searchData},get children(){const t=b(bt),n=t.firstChild,s=n.firstChild,[c,l]=v(s.nextSibling);return c.nextSibling,o(n,()=>r().stork_empty_query(),c,l),t}}),a(M,{get when(){return e.searchData.total_hit_count===0},get children(){const t=b(mt),n=t.firstChild,s=n.firstChild,[c,l]=v(s.nextSibling);return c.nextSibling,o(n,()=>r().stork_not_found(),c,l),t}}),a(M,{get when(){return e.searchData.total_hit_count>0},get children(){const t=b(xt);return o(t,a(B,{get each(){return e.searchData.results},children:n=>a(C,{get href(){return`${e.searchData.url_prefix}${n.entry.url}`},locale:null,class:"hover:bg-base-300/40 w-full py-2 px-4 opacity-80 hover:opacity-100",tabIndex:0,get children(){return a(ft,{searchDataResult:n})}})})),t}})]}})},pt=m('<input type="checkbox" class="modal-toggle">',1),_t=m('<label class="modal cursor-pointer"><label class="modal-box border-base-content/5 relative flex max-h-[83%] min-h-[50%] w-11/12 max-w-5xl flex-col items-stretch border p-0 shadow" for=""><div class="bg-base-300 flex h-14 flex-row flex-nowrap items-center justify-between"><div class="form-control ml-4 h-14 flex-1 justify-center"><div class="h-9"></div></div><label class="btn-sm btn-circle btn mx-2">✕</label></div><div class="bg-base-200 flex w-full flex-1 flex-col flex-nowrap overscroll-none"></div></label></label>',14),$t=e=>{const[r,t]=L(!1),[n,s]=L(),c=l=>{const{checked:i}=l.target;t(i)};return[(()=>{const l=b(pt);return l.addEventListener("change",i=>c(i)),w(()=>D(l,"id",e.name)),w(()=>l.checked=r()),l})(),(()=>{const l=b(_t),i=l.firstChild,h=i.firstChild,d=h.firstChild,g=d.firstChild,x=d.nextSibling,u=h.nextSibling;return o(g,a(ct,{get name(){return e.name},searchDataCallback:s})),o(u,a(vt,{get searchData(){return n()}})),w(f=>{const k=e.name,E=e.name;return k!==f._v$&&D(l,"for",f._v$=k),E!==f._v$2&&D(x,"for",f._v$2=E),f},{_v$:void 0,_v$2:void 0}),l})()]};var wt=Ze,yt=e=>oe()?de(e):e;function kt(e,r,t){if(wt)return L(e);let n=!!he.context;const[s,c]=L(n?e:r(),t);return n&&He(()=>c(()=>r())),[s,c]}function St(e,r,t,n){return e.addEventListener(r,t,n),yt(e.removeEventListener.bind(e,r,t,n))}function Ct(e){let r=0,t,n;return()=>(n||Ge(s=>{t=e(s),n=s}),r++,oe()&&de(()=>{r--,queueMicrotask(()=>{r||!n||(n(),n=void 0,t=void 0)})}),t)}function Dt(e,r=!1){const t=window.matchMedia(e),[n,s]=kt(r,()=>t.matches);return St(t,"change",()=>s(t.matches)),n}function ge(e){return Dt("(prefers-color-scheme: dark)",e)}var Bt=Ct(ge.bind(void 0,!1)),Lt=()=>he.context?ge():Bt();const Et=m('<div class="dropdown-end dropdown px-1"><label tabindex="0" class="link text-current opacity-40 hover:text-current hover:opacity-80"><svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11.334 14c.584 2.239 2.001 2.547 2.001 4.02 0 1.094-.896 1.98-2.001 1.98-1.104 0-2.015-.887-2.015-1.98 0-1.473 1.432-1.781 2.015-4.02zm12.666-2c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5.205-7.316l-2.641 2.316h2.791l1.085-.935c-.37-.498-.782-.96-1.235-1.381zm3.205 7.316c0-1.527-.354-2.969-.969-4.265l-4.486 3.902c-1.402 1.226-2.126.041-3.911 1.091-.237.141-.486.185-.71.158-.566-.07-1.018-.594-.941-1.216.024-.205.113-.419.267-.633 1.128-1.571.183-2.49 1.553-3.68l4.435-3.86c-1.527-.943-3.317-1.497-5.238-1.497-5.514 0-10 4.486-10 10s4.486 10 10 10 10-4.486 10-10z"></path></svg></label><div tabindex="0" class="dropdown-content rounded-box btn-group btn-group-vertical bg-base-100 mt-2 w-28 p-0 shadow"><button>Dark</button><button>Light</button><button>Berloga</button></div></div>',16),Pt=Lt(),[y,P]=L(Pt()?"dark":"light"),Mt=()=>{if(ue){const e=document.createElement("style");e.append("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}"),document.head.append(e),window.getComputedStyle(document.body),setTimeout(()=>e.remove(),1)}};let ee=!0;function te(e){return()=>{const t=lt();return w(()=>{if(Mt(),ee){ee=!1;const s=t.getItem("theme");s&&s!=y()&&P(s)}e().setAttribute("data-theme",y()),t.setItem("theme",y())}),(()=>{const n=b(Et),s=n.firstChild,c=s.nextSibling,l=c.firstChild,i=l.nextSibling,h=i.nextSibling;return l.$$click=()=>P("dark"),i.$$click=()=>P("light"),h.$$click=()=>P("custom"),w(d=>{const g=y()==="dark"?"btn-active btn":"btn-ghost btn",x=y()==="light"?"btn-active btn":"btn-ghost btn",u=y()==="custom"?"btn-active btn":"btn-ghost btn";return g!==d._v$&&F(l,d._v$=g),x!==d._v$2&&F(i,d._v$2=x),u!==d._v$3&&F(h,d._v$3=u),d},{_v$:void 0,_v$2:void 0,_v$3:void 0}),ae(),n})()}}ie(["click"]);const ne=te(ue?()=>document.documentElement:()=>({setAttribute:(e,r)=>{}})),Rt=m('<div class="w-12 rounded-full"><img alt="ava"></div>',3),jt=m('<div class="drawer drawer-end"><input id="drawer" type="checkbox" class="drawer-toggle"><!#><!/><div class="drawer-content flex flex-1 flex-col flex-nowrap items-stretch"><div class="navbar border-base-content/5 bg-base-100 shadow-base-content z-10 select-none border-b drop-shadow-lg"><div class="flex-1"><!#><!/><!#><!/></div><div class="block sm:hidden"><label for="drawer" class="drawer-button btn btn-sm btn-ghost"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-6 h-6 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></label></div><div class="hidden flex-row-reverse gap-2 sm:flex"><label for="search-modal" class="input-bordered input h-9 select-none leading-9 opacity-50 transition-opacity hover:opacity-80 focus:opacity-80 sm:w-32 md:w-48 lg:w-64"></label><div class="flex flex-row items-center"><!#><!/><!#><!/></div></div></div><div class="bg-base-300 flex flex-1 flex-col flex-nowrap"><div class="border-secondary-content/5 bg-base-100 m-3 mx-auto w-full max-w-[78rem] flex-1 rounded-md border shadow"></div></div><footer class="footer border-base-content/5 bg-neutral text-neutral-content shadow-base-content/20 flex flex-row flex-nowrap items-center justify-between border-t-2 py-2 px-4 md:px-6 lg:py-1"><div class="flex select-none flex-col text-xs leading-3"><p class="opacity-60 transition-opacity hover:opacity-80">Copyright © <!#><!/></p><p class="opacity-20 transition-opacity hover:opacity-80">Version: <!#><!/></p></div><div class="flex flex-row flex-nowrap items-center"><a href="https://t.me/+RROSXUhWMNc3NDgy" class="opacity-50 transition-opacity hover:opacity-80 focus:opacity-80"><svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12,0c-6.627,0 -12,5.373 -12,12c0,6.627 5.373,12 12,12c6.627,0 12,-5.373 12,-12c0,-6.627 -5.373,-12 -12,-12Zm0,2c5.514,0 10,4.486 10,10c0,5.514 -4.486,10 -10,10c-5.514,0 -10,-4.486 -10,-10c0,-5.514 4.486,-10 10,-10Zm2.692,14.889c0.161,0.115 0.368,0.143 0.553,0.073c0.185,-0.07 0.322,-0.228 0.362,-0.42c0.435,-2.042 1.489,-7.211 1.884,-9.068c0.03,-0.14 -0.019,-0.285 -0.129,-0.379c-0.11,-0.093 -0.263,-0.12 -0.399,-0.07c-2.096,0.776 -8.553,3.198 -11.192,4.175c-0.168,0.062 -0.277,0.223 -0.271,0.4c0.006,0.177 0.125,0.33 0.296,0.381c1.184,0.354 2.738,0.847 2.738,0.847c0,0 0.725,2.193 1.104,3.308c0.047,0.139 0.157,0.25 0.301,0.287c0.145,0.038 0.298,-0.001 0.406,-0.103c0.608,-0.574 1.548,-1.461 1.548,-1.461c0,0 1.786,1.309 2.799,2.03Zm-5.505,-4.338l0.84,2.769l0.186,-1.754c0,0 3.243,-2.925 5.092,-4.593c0.055,-0.048 0.062,-0.13 0.017,-0.188c-0.045,-0.057 -0.126,-0.071 -0.188,-0.032c-2.143,1.368 -5.947,3.798 -5.947,3.798Z"></path></svg></a><a href="https://github.com/vchirikov" class="opacity-50 transition-opacity hover:opacity-80 focus:opacity-80"><svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 6c-3.313 0-6 2.686-6 6 0 2.651 1.719 4.9 4.104 5.693.3.056.396-.13.396-.289v-1.117c-1.669.363-2.017-.707-2.017-.707-.272-.693-.666-.878-.666-.878-.544-.373.041-.365.041-.365.603.042.92.619.92.619.535.917 1.403.652 1.746.499.054-.388.209-.652.381-.802-1.333-.152-2.733-.667-2.733-2.965 0-.655.234-1.19.618-1.61-.062-.153-.268-.764.058-1.59 0 0 .504-.161 1.65.615.479-.133.992-.199 1.502-.202.51.002 1.023.069 1.503.202 1.146-.776 1.648-.615 1.648-.615.327.826.121 1.437.06 1.588.385.42.617.955.617 1.61 0 2.305-1.404 2.812-2.74 2.96.216.186.412.551.412 1.111v1.646c0 .16.096.347.4.288 2.383-.793 4.1-3.041 4.1-5.691 0-3.314-2.687-6-6-6z"></path></svg></a><a href="https://twitter.com/0x4351" class="opacity-50 transition-opacity hover:opacity-80 focus:opacity-80"><svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.5 8.778c-.441.196-.916.328-1.414.388.509-.305.898-.787 1.083-1.362-.476.282-1.003.487-1.564.597-.448-.479-1.089-.778-1.796-.778-1.59 0-2.758 1.483-2.399 3.023-2.045-.103-3.86-1.083-5.074-2.572-.645 1.106-.334 2.554.762 3.287-.403-.013-.782-.124-1.114-.308-.027 1.14.791 2.207 1.975 2.445-.346.094-.726.116-1.112.042.313.978 1.224 1.689 2.3 1.709-1.037.812-2.34 1.175-3.647 1.021 1.09.699 2.383 1.106 3.773 1.106 4.572 0 7.154-3.861 6.998-7.324.482-.346.899-.78 1.229-1.274z"></path></svg></a></div></footer></div><div class="drawer-side"><label for="drawer" class="drawer-overlay"></label><div class="bg-base-100 text-base-content w-5/6 max-w-2xl"><div class="flex h-full w-full flex-col flex-nowrap items-center justify-start p-3"><label for="search-modal" class="input-bordered input mb-4 h-9 w-full select-none leading-9 opacity-50 transition-opacity hover:opacity-80 focus:opacity-80 "></label><div class="w-full  font-mono text-sm"><!#><!/>:</div><div class="border-base-200/40 mt-2 flex w-full flex-row items-center justify-between border-y py-0"><div class="flex flex-row flex-nowrap items-center justify-start"></div><!#><!/></div></div></div></div></div>',89),re=m('<div class="opacity-50 transition-opacity hover:opacity-80"></div>',2),It=e=>{const r=le(),t=Je(),{LL:n}=j(),s=O().get(U.Version);return(()=>{const c=b(jt),l=c.firstChild,i=l.nextSibling,[h,d]=v(i.nextSibling),g=h.nextSibling,x=g.firstChild,u=x.firstChild,f=u.firstChild,[k,E]=v(f.nextSibling),fe=k.nextSibling,[be,me]=v(fe.nextSibling),xe=u.nextSibling,ve=xe.nextSibling,V=ve.firstChild,I=V.nextSibling,pe=I.firstChild,[q,_e]=v(pe.nextSibling),$e=q.nextSibling,[we,ye]=v($e.nextSibling),H=x.nextSibling,ke=H.firstChild,Se=H.nextSibling,Ce=Se.firstChild,z=Ce.firstChild,De=z.firstChild,Be=De.nextSibling,[Le,Ee]=v(Be.nextSibling),Z=z.nextSibling,Pe=Z.firstChild,Me=Pe.nextSibling,[Re,je]=v(Me.nextSibling),Ie=g.nextSibling,ze=Ie.firstChild,Ae=ze.nextSibling,Fe=Ae.firstChild,G=Fe.firstChild,A=G.nextSibling,Te=A.firstChild,[J,Ne]=v(Te.nextSibling);J.nextSibling;const K=A.nextSibling,Q=K.firstChild,Oe=Q.nextSibling,[Ue,Ve]=v(Oe.nextSibling);return o(c,a($t,{name:"search-modal"}),h,d),o(u,a(C,{href:"/",tabIndex:"0",class:"btn-ghost btn-circle avatar btn",get children(){const p=b(Rt),_=p.firstChild;return w(()=>D(_,"src",`${r.servedUrl}/assets/img/ava.jpg`)),p}}),k,E),o(u,a(C,{href:"/",class:"prose-sm prose md:prose-xl mx-2 font-semibold",get children(){return n().site_title()}}),be,me),o(V,()=>n().search()),o(I,a(B,{each:W,children:p=>(()=>{const _=b(re);return o(_,a(C,{get href(){return t.urlPathname},locale:p,class:"btn-xs btn m-1",get children(){return p.toUpperCase()}})),_})()}),q,_e),o(I,a(ne,{}),we,ye),o(ke,()=>e.children),o(z,()=>new Date().getFullYear(),Le,Ee),o(Z,s,Re,je),o(G,()=>n().search()),o(A,()=>n().settings(),J,Ne),o(Q,a(B,{each:W,children:p=>(()=>{const _=b(re);return o(_,a(C,{get href(){return t.urlPathname},locale:p,prefetch:!1,class:"btn-xs btn m-1",get children(){return p.toUpperCase()}})),_})()})),o(K,a(ne,{}),Ue,Ve),c})()};class zt{currentDispose;dispose(){this.currentDispose&&(this.currentDispose(),this.currentDispose=void 0)}set(r){this.currentDispose=r}}const se=new zt,At=e=>({}),Ft={en:()=>X(()=>import("../../../index.ae769b82.js"),[]),ru:()=>X(()=>import("../../../index.e3002f4b.js"),[])},Tt=(e,r)=>N[e]={...N[e],...r},Nt=async e=>(await Ft[e]()).default,Ot=async e=>{Tt(e,await Nt(e)),Ut(e)},Ut=e=>void(it[e]=At()),Gt=!0;async function Jt(e){const r=Ke(e),{Page:t,pageProps:n,locale:s,isHydration:c}=e,l=document.getElementById("app");N[s]||await Ot(s);const i=()=>a(nt.Provider,{value:r,get children(){return a(Xe,{locale:s,get children(){return a(Ye,{get children(){return a(et,{fallback:(h,d)=>a(tt,{reset:d,error:h}),get children(){return a(It,{get children(){return a(t,n)}})}})}})}})}});se.dispose(),se.set(c?Qe(i,l):We(i,l))}export{Gt as hydrationCanBeAborted,Jt as render};

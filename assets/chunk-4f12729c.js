import{n as En,i as In,b as Nn,c as On}from"./chunk-b9674078.js";const d={};function F(e){d.context=e}function Dn(){return{...d.context,id:`${d.context.id}${d.context.count++}-`,count:0}}const kn=(e,t)=>e===t,Dt=Symbol("solid-proxy"),Mn=Symbol("solid-track"),ae=Symbol("solid-dev-component"),kt={equals:kn};let q=null,Ge=Ke;const U=1,Mt=2,Pn={owned:null,cleanups:null,context:null,owner:null},Kt={};var p=null;let L=null,b=null,O=null,R=null,se=0,Rn=0;function ft(e,t){const n=b,r=p,i=e.length===0,o=i?{owned:null,cleanups:null,context:null,owner:null}:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},a=i?()=>e(()=>{throw new Error("Dispose method must be an explicit argument to createRoot function")}):()=>e(()=>k(()=>Gt(o)));r&&(o.name=`${r.name}-r${Rn++}`),globalThis._$afterCreateRoot&&globalThis._$afterCreateRoot(o),p=o,b=null;try{return K(a,!0)}finally{b=n,p=r}}function V(e,t){t=t?Object.assign({},kt,t):kt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0};t.internal||(n.name=Ln(t.name||Vn(e),n));const r=i=>(typeof i=="function"&&(i=i(n.value)),Je(n,i));return[Ye.bind(n),r]}function me(e,t,n){const r=_t(e,t,!0,U,n);tt(r)}function J(e,t,n){const r=_t(e,t,!1,U,n);tt(r)}function He(e,t,n){Ge=Hn;const r=_t(e,t,!1,U,n),i=rt&&At(p,rt.id);i&&(r.suspense=i),r.user=!0,R?R.push(r):tt(r)}function D(e,t,n){n=n?Object.assign({},kt,n):kt;const r=_t(e,t,!0,0,n);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,tt(r),Ye.bind(r)}function jn(e,t,n){let r,i,o;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,i=e,o=t||{}):(r=e,i=t,o=n||{});let a=null,s=Kt,l=null,c=!1,u=!1,f="initialValue"in o,h=typeof r=="function"&&D(r);const g=new Set,[y,_]=(o.storage||V)(o.initialValue),[C,A]=V(void 0),[m,T]=V(void 0,{equals:!1}),[x,P]=V(f?"ready":"unresolved");if(d.context){l=`${d.context.id}${d.context.count++}`;let w;o.ssrLoadFrom==="initial"?s=o.initialValue:d.load&&(w=d.load(l))&&(s=w[0])}function H(w,E,N,ct){return a===w&&(a=null,f=!0,(w===s||E===s)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(ct,{value:E})),s=Kt,Yt(E,N)),E}function Yt(w,E){K(()=>{E===void 0&&_(()=>w),P(E!==void 0?"errored":"ready"),A(E);for(const N of g.keys())N.decrement();g.clear()},!1)}function st(){const w=rt&&At(p,rt.id),E=y(),N=C();if(N!==void 0&&!a)throw N;return b&&!b.user&&w&&me(()=>{m(),a&&(w.resolved&&L&&c?L.promises.add(a):g.has(w)||(w.increment(),g.add(w)))}),E}function Jt(w=!0){if(w!==!1&&u)return;u=!1;const E=h?h():r;if(c=L,E==null||E===!1){H(a,k(y));return}const N=s!==Kt?s:k(()=>i(E,{value:y(),refetching:w}));return typeof N!="object"||!(N&&"then"in N)?(H(a,N,void 0,E),N):(a=N,u=!0,queueMicrotask(()=>u=!1),K(()=>{P(f?"refreshing":"pending"),T()},!1),N.then(ct=>H(N,ct,void 0,E),ct=>H(N,void 0,Xe(ct),E)))}return Object.defineProperties(st,{state:{get:()=>x()},error:{get:()=>C()},loading:{get(){const w=x();return w==="pending"||w==="refreshing"}},latest:{get(){if(!f)return st();const w=C();if(w&&!a)throw w;return y()}}}),h?me(()=>Jt(!1)):Jt(!1),[st,{refetch:Jt,mutate:_}]}function $n(e){return K(e,!1)}function k(e){if(b===null)return e();const t=b;b=null;try{return e()}finally{b=t}}function Fo(e){He(()=>k(e))}function Wt(e){return p===null?console.warn("cleanups created outside a `createRoot` or `render` will never be run"):p.cleanups===null?p.cleanups=[e]:p.cleanups.push(e),e}function we(e){q||(q=Symbol("error")),p===null?console.warn("error handlers created outside a `createRoot` or `render` will never be run"):p.context===null?p.context={[q]:[e]}:p.context[q]?p.context[q].push(e):p.context[q]=[e]}function Bn(){return p}function Fn(e){R.push.apply(R,e),e.length=0}function be(e,t){const n=_t(()=>k(()=>(Object.assign(e,{[ae]:!0}),e(t))),void 0,!0,0);return n.props=t,n.observers=null,n.observerSlots=null,n.componentName=e.name,tt(n),n.tValue!==void 0?n.tValue:n.value}function Vn(e){const t=new Set;return`s${Ae(typeof e=="string"?e:k(()=>JSON.stringify(e,(n,r)=>{if(typeof r=="object"&&r!=null){if(t.has(r))return;t.add(r);const i=Object.keys(r),o=Object.getOwnPropertyDescriptors(r),a=i.reduce((s,l)=>{const c=o[l];return c.get||(s[l]=c),s},{});r=Object.create({},a)}return typeof r=="bigint"?`${r.toString()}n`:r})||""))}`}function Ln(e,t){let n=e;if(p){let r=0;for(p.sourceMap||(p.sourceMap={});p.sourceMap[n];)n=`${e}-${++r}`;p.sourceMap[n]=t,t.graph=p}return n}function wt(e,t){const n=Symbol("context");return{id:n,Provider:qn(n,t),defaultValue:e}}function bt(e){let t;return(t=At(p,e.id))!==void 0?t:e.defaultValue}function qe(e){const t=D(e),n=D(()=>Qt(t()),void 0,{name:"children"});return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let rt;function Un(){return rt||(rt=wt({}))}function Ye(){const e=L;if(this.sources&&(this.state||e))if(this.state===U||e)tt(this);else{const t=O;O=null,K(()=>Rt(this),!1),O=t}if(b){const t=this.observers?this.observers.length:0;b.sources?(b.sources.push(this),b.sourceSlots.push(t)):(b.sources=[this],b.sourceSlots=[t]),this.observers?(this.observers.push(b),this.observerSlots.push(b.sources.length-1)):(this.observers=[b],this.observerSlots=[b.sources.length-1])}return this.value}function Je(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&K(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=L&&L.running;a&&L.disposed.has(o),(a&&!o.tState||!a&&!o.state)&&(o.pure?O.push(o):R.push(o),o.observers&&ze(o)),a||(o.state=U)}if(O.length>1e6){throw O=[],new Error("Potential Infinite Loop Detected.");throw new Error}},!1)),t}function tt(e){if(!e.fn)return;Gt(e);const t=p,n=b,r=se;b=p=e,Wn(e,e.value,r),b=n,p=t}function Wn(e,t,n){let r;try{r=e.fn(t)}catch(i){e.pure&&(e.state=U,e.owned&&e.owned.forEach(Gt),e.owned=null),Qe(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Je(e,r):e.value=r,e.updatedAt=n)}function _t(e,t,n,r=U,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:p,context:null,pure:n};return p===null?console.warn("computations created outside a `createRoot` or `render` will never be disposed"):p!==Pn&&(p.owned?p.owned.push(o):p.owned=[o],o.name=i&&i.name||`${p.name||"c"}-${(p.owned||p.tOwned).length}`),o}function Pt(e){const t=L;if(e.state===0||t)return;if(e.state===Mt||t)return Rt(e);if(e.suspense&&k(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<se);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if(e=n[r],e.state===U||t)tt(e);else if(e.state===Mt||t){const i=O;O=null,K(()=>Rt(e,n[0]),!1),O=i}}function K(e,t){if(O)return e();let n=!1;t||(O=[]),R?n=!0:R=[],se++;try{const r=e();return Gn(n),r}catch(r){n||(R=null),O=null,Qe(r)}}function Gn(e){if(O&&(Ke(O),O=null),e)return;const t=R;R=null,t.length?K(()=>Ge(t),!1):globalThis._$afterUpdate&&globalThis._$afterUpdate()}function Ke(e){for(let t=0;t<e.length;t++)Pt(e[t])}function Hn(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Pt(r)}for(d.context&&F(),t=0;t<n;t++)Pt(e[t])}function Rt(e,t){const n=L;e.state=0;for(let r=0;r<e.sources.length;r+=1){const i=e.sources[r];i.sources&&(i.state===U||n?i!==t&&Pt(i):(i.state===Mt||n)&&Rt(i,t))}}function ze(e){const t=L;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!r.state||t)&&(r.state=Mt,r.pure?O.push(r):R.push(r),r.observers&&ze(r))}}function Gt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),a=n.observerSlots.pop();r<i.length&&(o.sourceSlots[a]=r,i[r]=o,n.observerSlots[r]=a)}}if(e.owned){for(t=0;t<e.owned.length;t++)Gt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null,delete e.sourceMap}function Xe(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function _e(e,t){for(const n of e)n(t)}function Qe(e){e=Xe(e);const t=q&&At(p,q);if(!t)throw e;R?R.push({fn(){_e(t,e)},state:U}):_e(t,e)}function At(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:At(e.owner,t):void 0}function Qt(e){if(typeof e=="function"&&!e.length)return Qt(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Qt(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function qn(e,t){return function(r){let i;return J(()=>i=k(()=>(p.context={[e]:r.value},qe(()=>r.children))),void 0,t),i}}function Ae(e){for(var t=0,n=9;t<e.length;)n=Math.imul(n^e.charCodeAt(t++),9**9);return`${n^n>>>9}`}const Yn=Symbol("fallback");function Se(e){for(let t=0;t<e.length;t++)e[t]()}function Jn(e,t,n={}){let r=[],i=[],o=[],a=0,s=t.length>1?[]:null;return Wt(()=>Se(o)),()=>{let l=e()||[],c,u;return l[Mn],k(()=>{let h=l.length,g,y,_,C,A,m,T,x,P;if(h===0)a!==0&&(Se(o),o=[],r=[],i=[],a=0,s&&(s=[])),n.fallback&&(r=[Yn],i[0]=ft(H=>(o[0]=H,n.fallback())),a=1);else if(a===0){for(i=new Array(h),u=0;u<h;u++)r[u]=l[u],i[u]=ft(f);a=h}else{for(_=new Array(h),C=new Array(h),s&&(A=new Array(h)),m=0,T=Math.min(a,h);m<T&&r[m]===l[m];m++);for(T=a-1,x=h-1;T>=m&&x>=m&&r[T]===l[x];T--,x--)_[x]=i[T],C[x]=o[T],s&&(A[x]=s[T]);for(g=new Map,y=new Array(x+1),u=x;u>=m;u--)P=l[u],c=g.get(P),y[u]=c===void 0?-1:c,g.set(P,u);for(c=m;c<=T;c++)P=r[c],u=g.get(P),u!==void 0&&u!==-1?(_[u]=i[c],C[u]=o[c],s&&(A[u]=s[c]),u=y[u],g.set(P,u)):o[c]();for(u=m;u<h;u++)u in _?(i[u]=_[u],o[u]=C[u],s&&(s[u]=A[u],s[u](u))):i[u]=ft(f);i=i.slice(0,a=h),r=l.slice(0)}return i});function f(h){if(o[u]=h,s){const[g,y]=V(u,{name:"index"});return s[u]=y,t(l[u],g)}return t(l[u])}}}let Ze=!1;function Kn(){Ze=!0}function ht(e,t){if(Ze&&d.context){const n=d.context;F(Dn());const r=be(e,t||{});return F(n),r}return be(e,t||{})}function Ct(){return!0}const Zt={get(e,t,n){return t===Dt?n:e.get(t)},has(e,t){return t===Dt?!0:e.has(t)},set:Ct,deleteProperty:Ct,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ct,deleteProperty:Ct}},ownKeys(e){return e.keys()}};function zt(e){return(e=typeof e=="function"?e():e)?e:{}}function Vo(...e){let t=!1;for(let r=0;r<e.length;r++){const i=e[r];t=t||!!i&&Dt in i,e[r]=typeof i=="function"?(t=!0,D(i)):i}if(t)return new Proxy({get(r){for(let i=e.length-1;i>=0;i--){const o=zt(e[i])[r];if(o!==void 0)return o}},has(r){for(let i=e.length-1;i>=0;i--)if(r in zt(e[i]))return!0;return!1},keys(){const r=[];for(let i=0;i<e.length;i++)r.push(...Object.keys(zt(e[i])));return[...new Set(r)]}},Zt);const n={};for(let r=e.length-1;r>=0;r--)if(e[r]){const i=Object.getOwnPropertyDescriptors(e[r]);for(const o in i)o in n||Object.defineProperty(n,o,{enumerable:!0,get(){for(let a=e.length-1;a>=0;a--){const s=(e[a]||{})[o];if(s!==void 0)return s}}})}return n}function zn(e,...t){const n=new Set(t.flat());if(Dt in e){const i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},Zt));return i.push(new Proxy({get(o){return n.has(o)?void 0:e[o]},has(o){return n.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!n.has(o))}},Zt)),i}const r=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(r).filter(i=>!n.has(i))),t.map(i=>{const o={};for(let a=0;a<i.length;a++){const s=i[a];s in e&&Object.defineProperty(o,s,r[s]?r[s]:{get(){return e[s]},set(){return!0},enumerable:!0})}return o})}function Lo(e){let t,n;const r=i=>{const o=d.context;if(o){const[s,l]=V();(n||(n=e())).then(c=>{F(o),l(()=>c.default),F()}),t=s}else if(!t){const[s]=jn(()=>(n||(n=e())).then(l=>l.default));t=s}let a;return D(()=>(a=t())&&k(()=>{if(Object.assign(a,{[ae]:!0}),!o)return a(i);const s=d.context;F(o);const l=a(i);return F(s),l}))};return r.preload=()=>n||((n=e()).then(i=>t=()=>i.default),n),r}let Xn=0;function Qn(){const e=d.context;return e?`${e.id}${e.count++}`:`cl-${Xn++}`}function Uo(e){const t="fallback"in e&&{fallback:()=>e.fallback};return D(Jn(()=>e.each,e.children,t||void 0),void 0,{name:"value"})}function Te(e){let t=!1;const n=e.keyed,r=D(()=>e.when,void 0,{equals:(i,o)=>t?i===o:!i==!o,name:"condition"});return D(()=>{const i=r();if(i){const o=e.children,a=typeof o=="function"&&o.length>0;return t=n||a,a?k(()=>o(i)):o}return e.fallback},void 0,{name:"value"})}function Wo(e){let t=!1,n=!1;const r=(a,s)=>a[0]===s[0]&&(t?a[1]===s[1]:!a[1]==!s[1])&&a[2]===s[2],i=qe(()=>e.children),o=D(()=>{let a=i();Array.isArray(a)||(a=[a]);for(let s=0;s<a.length;s++){const l=a[s].when;if(l)return n=!!a[s].keyed,[s,l,a[s]]}return[-1]},void 0,{equals:r,name:"eval conditions"});return D(()=>{const[a,s,l]=o();if(a<0)return e.fallback;const c=l.children,u=typeof c=="function"&&c.length>0;return t=n||u,u?k(()=>c(s)):c},void 0,{name:"value"})}function Go(e){return e}let xt;function Ho(e){let t,n;d.context&&d.load&&(n=d.load(d.context.id+d.context.count))&&(t=n[0]);const[r,i]=V(t,{name:"errored"});return xt||(xt=new Set),xt.add(i),Wt(()=>xt.delete(i)),D(()=>{let o;if(o=r()){const a=e.fallback;(typeof a!="function"||a.length==0)&&console.error(o);const s=typeof a=="function"&&a.length?k(()=>a(o,()=>i())):a;return we(i),s}return we(i),e.children},void 0,{name:"value"})}const Zn=wt();function qo(e){let t=0,n,r,i,o,a;const[s,l]=V(!1),c=Un(),u={increment:()=>{++t===1&&l(!0)},decrement:()=>{--t===0&&l(!1)},inFallback:s,effects:[],resolved:!1},f=Bn();if(d.context&&d.load){const y=d.context.id+d.context.count;let _=d.load(y);if(_&&(i=_[0])&&i!=="$$f"){(typeof i!="object"||!("then"in i))&&(i=Promise.resolve(i));const[C,A]=V(void 0,{equals:!1});o=C,i.then(m=>{if(m||d.done)return m&&(a=m),A();d.gather(y),F(r),A(),F()})}}const h=bt(Zn);h&&(n=h.register(u.inFallback));let g;return Wt(()=>g&&g()),ht(c.Provider,{value:u,get children(){return D(()=>{if(a)throw a;if(r=d.context,o)return o(),o=void 0;r&&i==="$$f"&&F();const y=D(()=>e.children);return D(_=>{const C=u.inFallback(),{showContent:A=!0,showFallback:m=!0}=n?n():{};if((!C||i&&i!=="$$f")&&A)return u.resolved=!0,g&&g(),g=r=i=void 0,Fn(u.effects),y();if(m)return g?_:ft(T=>(g=T,r&&(F({id:r.id+"f",count:0}),r=void 0),e.fallback),f)})})}})}globalThis&&(globalThis.Solid$$?console.warn("You appear to have multiple instances of Solid. This can lead to unexpected behavior."):globalThis.Solid$$=!0);const tr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],er=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...tr]),nr=new Set(["innerHTML","textContent","innerText","children"]),rr=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ce=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),ir=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),or=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),ar={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function sr(e,t,n){let r=n.length,i=t.length,o=r,a=0,s=0,l=t[i-1].nextSibling,c=null;for(;a<i||s<o;){if(t[a]===n[s]){a++,s++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===a){const u=o<r?s?n[s-1].nextSibling:n[o-s]:l;for(;s<o;)e.insertBefore(n[s++],u)}else if(o===s)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[o-1]&&n[s]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[s++],t[a++].nextSibling),e.insertBefore(n[--o],u),t[i]=n[o]}else{if(!c){c=new Map;let f=s;for(;f<o;)c.set(n[f],f++)}const u=c.get(t[a]);if(u!=null)if(s<u&&u<o){let f=a,h=1,g;for(;++f<i&&f<o&&!((g=c.get(t[f]))==null||g!==u+h);)h++;if(h>u-s){const y=t[a];for(;s<u;)e.insertBefore(n[s++],y)}else e.replaceChild(n[s++],t[a++])}else a++;else t[a++].remove()}}}const xe="_$DX_DELEGATE";function cr(e,t,n,r={}){let i;return ft(o=>{i=o,t===document?e():z(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function ce(e,t,n){const r=document.createElement("template");if(r.innerHTML=e,t&&r.innerHTML.split("<").length-1!==t)throw`The browser resolved template HTML does not match JSX input:
${r.innerHTML}

${e}. Is your HTML properly formed?`;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function tn(e,t=window.document){const n=t[xe]||(t[xe]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,nn))}}function en(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ur(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function lr(e,t){t==null?e.removeAttribute("class"):e.className=t}function fr(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function dr(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,a;for(o=0,a=i.length;o<a;o++){const s=i[o];!s||s==="undefined"||t[s]||(Ee(e,s,!1),delete n[s])}for(o=0,a=r.length;o<a;o++){const s=r[o],l=!!t[s];!s||s==="undefined"||n[s]===l||!l||(Ee(e,s,!0),n[s]=l)}return n}function hr(e,t,n){if(!t)return n?en(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function te(e,t={},n,r){const i={};return r||J(()=>i.children=it(e,t.children,i.children)),J(()=>t.ref&&t.ref(e)),J(()=>pr(e,t,n,!0,i,!0)),i}function Yo(e,t){!d.context&&(e.innerHTML=t)}function Jo(e,t,n){return k(()=>e(t,n))}function z(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return it(e,t,r,n);J(i=>it(e,t(),i,n),r)}function pr(e,t,n,r,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=Ie(e,a,null,i[a],n,o)}for(const a in t){if(a==="children"){r||it(e,t.children);continue}const s=t[a];i[a]=Ie(e,a,s,i[a],n,o)}}function gr(e,t,n={}){d.completed=globalThis._$HY.completed,d.events=globalThis._$HY.events,d.load=globalThis._$HY.load,d.gather=i=>Oe(t,i),d.registry=new Map,d.context={id:n.renderId||"",count:0},Oe(t,n.renderId);const r=cr(e,t,[...t.childNodes],n);return d.context=null,r}function It(e){let t,n;if(!d.context||!(t=d.registry.get(n=mr()))){if(d.context&&console.warn("Unable to find DOM nodes for hydration key:",n),!e)throw new Error("Unrecoverable Hydration Mismatch. No template for key: "+n);return e.cloneNode(!0)}return d.completed&&d.completed.add(t),d.registry.delete(n),t}function et(e){let t=e,n=0,r=[];if(d.context)for(;t;){if(t.nodeType===8){const i=t.nodeValue;if(i==="#")n++;else if(i==="/"){if(n===0)return[t,r];n--}}r.push(t),t=t.nextSibling}return[t,r]}function yr(){d.events&&!d.events.queued&&(queueMicrotask(()=>{const{completed:e,events:t}=d;for(t.queued=!1;t.length;){const[n,r]=t[0];if(!e.has(n))return;nn(r),t.shift()}}),d.events.queued=!0)}function vr(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Ee(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function Ie(e,t,n,r,i,o){let a,s,l;if(t==="style")return hr(e,n,r);if(t==="classList")return dr(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const c=t.slice(3);r&&e.removeEventListener(c,r),n&&e.addEventListener(c,n)}else if(t.slice(0,10)==="oncapture:"){const c=t.slice(10);r&&e.removeEventListener(c,r,!0),n&&e.addEventListener(c,n,!0)}else if(t.slice(0,2)==="on"){const c=t.slice(2).toLowerCase(),u=ir.has(c);if(!u&&r){const f=Array.isArray(r)?r[0]:r;e.removeEventListener(c,f)}(u||n)&&(fr(e,c,n,u),u&&tn([c]))}else if((l=nr.has(t))||!i&&(Ce[t]||(s=er.has(t)))||(a=e.nodeName.includes("-")))t==="class"||t==="className"?lr(e,n):a&&!s&&!l?e[vr(t)]=n:e[Ce[t]||t]=n;else{const c=i&&t.indexOf(":")>-1&&ar[t.split(":")[0]];c?ur(e,c,t,n):en(e,rr[t]||t,n)}return n}function nn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),d.registry&&!d.done&&(d.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>{for(;r&&r.nodeType!==8&&r.nodeValue!=="pl-"+e;){let i=r.nextSibling;r.remove(),r=i}r&&r.remove()}));n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function it(e,t,n,r,i){for(d.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(d.context)return n;if(o==="number"&&(t=t.toString()),a){let s=n[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),n=nt(e,n,r,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(d.context)return n;n=nt(e,n,r)}else{if(o==="function")return J(()=>{let s=t();for(;typeof s=="function";)s=s();n=it(e,s,n,r)}),()=>n;if(Array.isArray(t)){const s=[],l=n&&Array.isArray(n);if(ee(s,t,n,i))return J(()=>n=it(e,s,n,r,!0)),()=>n;if(d.context){if(!s.length)return n;for(let c=0;c<s.length;c++)if(s[c].parentNode)return n=s}if(s.length===0){if(n=nt(e,n,r),a)return n}else l?n.length===0?Ne(e,s,r):sr(e,n,s):(n&&nt(e),Ne(e,s));n=s}else if(t instanceof Node){if(d.context&&t.parentNode)return n=a?[t]:t;if(Array.isArray(n)){if(a)return n=nt(e,n,r,t);nt(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function ee(e,t,n,r){let i=!1;for(let o=0,a=t.length;o<a;o++){let s=t[o],l=n&&n[o];if(s instanceof Node)e.push(s);else if(!(s==null||s===!0||s===!1))if(Array.isArray(s))i=ee(e,s,l)||i;else if(typeof s=="function")if(r){for(;typeof s=="function";)s=s();i=ee(e,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||i}else e.push(s),i=!0;else{const c=String(s);l&&l.nodeType===3&&l.data===c?e.push(l):e.push(document.createTextNode(c))}}return i}function Ne(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function nt(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const s=t[a];if(i!==s){const l=s.parentNode===e;!o&&!a?l?e.replaceChild(i,s):e.insertBefore(i,n):l&&s.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}function Oe(e,t){const n=e.querySelectorAll("*[data-hk]");for(let r=0;r<n.length;r++){const i=n[r],o=i.getAttribute("data-hk");(!t||o.startsWith(t))&&!d.registry.has(o)&&d.registry.set(o,i)}}function mr(){const e=d.context;return`${e.id}${e.count++}`}const Ko=!1,wr="http://www.w3.org/2000/svg";function br(e,t=!1){return t?document.createElementNS(wr,e):document.createElement(e)}const zo=(...e)=>(Kn(),gr(...e));function Xo(e){const[t,n]=zn(e,["component"]),r=D(()=>t.component);return D(()=>{const i=r();switch(typeof i){case"function":return Object.assign(i,{[ae]:!0}),k(()=>i(n));case"string":const o=or.has(i),a=d.context?It():br(i,o);return te(a,n,o),a}})}const jt=new WeakMap;function _r(e,t,n,r){return e.reverse().forEach(i=>{r=i(t,n,r)||r}),r}function Ar(e,t){return e.reverse().forEach(n=>{const r=n(t);r&&(t=r)}),t}function Sr(e,t,n,r){if(!Array.isArray(e)||e.length===0)throw new TypeError;if(n!==void 0)return _r(e,t,n,r);if(typeof t=="function")return Ar(e,t)}function rn(e,t){return jt.get(e)&&jt.get(e).get(t)}function $t(e,t,n){if(t===void 0)throw new TypeError;const r=rn(t,n);return r&&r.get(e)}function Tr(e,t){const n=jt.get(e)||new Map;jt.set(e,n);const r=n.get(t)||new Map;return n.set(t,r),r}function on(e,t,n,r){if(r&&!["string","symbol"].includes(typeof r))throw new TypeError;(rn(n,r)||Tr(n,r)).set(e,t)}function ue(e,t,n){return $t(e,t,n)?$t(e,t,n):Object.getPrototypeOf(t)?ue(e,Object.getPrototypeOf(t),n):void 0}function Cr(e,t){return function(r,i){on(e,t,r,i)}}function xr(e,t,n){return ue(e,t,n)}function Er(e,t,n){return $t(e,t,n)}function Ir(e,t,n){return!!$t(e,t,n)}function Nr(e,t,n){return!!ue(e,t,n)}function Or(e,t,n,r){on(e,t,n,r)}const Dr={decorate:Sr,defineMetadata:Or,getMetadata:xr,getOwnMetadata:Er,hasMetadata:Nr,hasOwnMetadata:Ir,metadata:Cr};Object.assign(Reflect,Dr);var B="named",an="name",le="unmanaged",sn="optional",fe="inject",pt="multi_inject",kr="inversify:tagged",Mr="inversify:tagged_props",ne="inversify:paramtypes",Pr="design:paramtypes",De="post_construct",re="pre_destroy";function Rr(){return[fe,pt,an,le,B,sn]}var ke=Rr(),S={Request:"Request",Singleton:"Singleton",Transient:"Transient"},v={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},St={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},jr=0;function Tt(){return jr++}var $r=function(){function e(t,n){this.id=Tt(),this.activated=!1,this.serviceIdentifier=t,this.scope=n,this.type=v.Invalid,this.constraint=function(r){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===S.Singleton?this.activated:!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.onDeactivation=this.onDeactivation,t.cache=this.cache,t},e}(),Br="Cannot apply @injectable decorator multiple times.",ut="NULL argument",Me="Key Not Found",Fr="Ambiguous match found for serviceIdentifier:",Vr="Could not unbind serviceIdentifier:",Lr="No matching bindings found for serviceIdentifier:",cn="Missing required @injectable annotation in:",Ur="Missing required @inject or @multiInject annotation in:",Wr="Circular dependency found:",Gr="Invalid binding type:",Hr="No snapshot available to restore.",qr="Invalid return type in middleware. Middleware must return!",Yr="Value provided to function binding must be a function!",Jr=function(e){return"You are attempting to construct '"+e+`' in a synchronous way
 but it has asynchronous dependencies.`},Kr="The toSelf function can only be applied when a constructor is used as service identifier",zr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+(e[0]+" must be >= than the number of constructor arguments of its base class.")},Xr="Invalid Container constructor argument. Container options must be an object.",Qr="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",Zr="Invalid Container option. Auto bind injectable must be a boolean",ti="Invalid Container option. Skip base check must be a boolean",ei="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)",ni=function(e,t){return"@postConstruct error in class "+e+": "+t},ri=function(e,t){return"@preDestroy error in class "+e+": "+t},ie=function(e,t){return"onDeactivation() error in class "+e+": "+t},ii=function(e,t){return"It looks like there is a circular dependency in one of the '"+e+"' bindings. Please investigate bindings with"+("service identifier '"+t+"'.")},oi="Maximum call stack size exceeded",ai=function(){function e(){}return e.prototype.getConstructorMetadata=function(t){var n=Reflect.getMetadata(ne,t),r=Reflect.getMetadata(kr,t);return{compilerGeneratedMetadata:n,userGeneratedMetadata:r||{}}},e.prototype.getPropertiesMetadata=function(t){var n=Reflect.getMetadata(Mr,t)||[];return n},e}(),Nt={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function un(e){return e instanceof RangeError||e.message===oi}var si=function(e,t){try{return e()}catch(n){throw un(n)&&(n=t()),n}};function gt(e){if(typeof e=="function"){var t=e;return t.name}else{if(typeof e=="symbol")return e.toString();var t=e;return t}}function Pe(e,t,n){var r="",i=n(e,t);return i.length!==0&&(r=`
Registered bindings:`,i.forEach(function(o){var a="Object";o.implementationType!==null&&(a=Ht(o.implementationType)),r=r+`
 `+a,o.constraint.metaData&&(r=r+" - "+o.constraint.metaData)})),r}function ln(e,t){return e.parentRequest===null?!1:e.parentRequest.serviceIdentifier===t?!0:ln(e.parentRequest,t)}function ci(e){function t(r,i){i===void 0&&(i=[]);var o=gt(r.serviceIdentifier);return i.push(o),r.parentRequest!==null?t(r.parentRequest,i):i}var n=t(e);return n.reverse().join(" --> ")}function fn(e){e.childRequests.forEach(function(t){if(ln(t,t.serviceIdentifier)){var n=ci(t);throw new Error(Wr+" "+n)}else fn(t)})}function ui(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return r!==null&&(n+=r.toString()+`
`),i!==null&&i.forEach(function(o){n+=o.toString()+`
`})," "+e+`
 `+e+" - "+n}else return" "+e}function Ht(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}function li(e){return e.toString().slice(7,-1)}var dn=function(){function e(t){this.id=Tt(),this.container=t}return e.prototype.addPlan=function(t){this.plan=t},e.prototype.setCurrentRequest=function(t){this.currentRequest=t},e}(),ot=function(){function e(t,n){this.key=t,this.value=n}return e.prototype.toString=function(){return this.key===B?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},e}(),fi=function(){function e(t,n){this.parentContext=t,this.rootRequest=n}return e}(),di=function(){function e(t){this._cb=t}return e.prototype.unwrap=function(){return this._cb()},e}(),hi=function(){function e(t){this.str=t}return e.prototype.startsWith=function(t){return this.str.indexOf(t)===0},e.prototype.endsWith=function(t){var n="",r=t.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},r)},e.prototype.contains=function(t){return this.str.indexOf(t)!==-1},e.prototype.equals=function(t){return this.str===t},e.prototype.value=function(){return this.str},e}(),qt=function(){function e(t,n,r,i){this.id=Tt(),this.type=t,this.serviceIdentifier=r;var o=typeof n=="symbol"?li(n):n;this.name=new hi(o||""),this.identifier=n,this.metadata=new Array;var a=null;typeof i=="string"?a=new ot(B,i):i instanceof ot&&(a=i),a!==null&&this.metadata.push(a)}return e.prototype.hasTag=function(t){for(var n=0,r=this.metadata;n<r.length;n++){var i=r[n];if(i.key===t)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(pt)},e.prototype.matchesArray=function(t){return this.matchesTag(pt)(t)},e.prototype.isNamed=function(){return this.hasTag(B)},e.prototype.isTagged=function(){return this.metadata.some(function(t){return ke.every(function(n){return t.key!==n})})},e.prototype.isOptional=function(){return this.matchesTag(sn)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===B})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return ke.every(function(n){return t.key!==n})}):null},e.prototype.matchesNamedTag=function(t){return this.matchesTag(B)(t)},e.prototype.matchesTag=function(t){var n=this;return function(r){for(var i=0,o=n.metadata;i<o.length;i++){var a=o[i];if(a.key===t&&a.value===r)return!0}return!1}},e}(),Bt=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};function pi(e,t){var n=Ht(t);return hn(e,n,t,!1)}function hn(e,t,n,r){var i=e.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(o===void 0){var a=cn+" "+t+".";throw new Error(a)}var s=i.userGeneratedMetadata,l=Object.keys(s),c=n.length===0&&l.length>0,u=l.length>n.length,f=c||u?l.length:n.length,h=yi(r,t,o,s,f),g=pn(e,n,t),y=Bt(Bt([],h,!0),g,!0);return y}function gi(e,t,n,r,i){var o=i[e.toString()]||[],a=yn(o),s=a.unmanaged!==!0,l=r[e],c=a.inject||a.multiInject;if(l=c||l,l instanceof di&&(l=l.unwrap()),s){var u=l===Object,f=l===Function,h=l===void 0,g=u||f||h;if(!t&&g){var y=Ur+" argument "+e+" in class "+n+".";throw new Error(y)}var _=new qt(St.ConstructorArgument,a.targetName,l);return _.metadata=o,_}return null}function yi(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=a,l=gi(s,e,t,n,r);l!==null&&o.push(l)}return o}function vi(e,t,n,r){var i=e||t;if(i===void 0){var o=cn+" for property "+String(n)+" in class "+r+".";throw new Error(o)}return i}function pn(e,t,n){for(var r=e.getPropertiesMetadata(t),i=[],o=Object.getOwnPropertySymbols(r),a=Object.keys(r),s=a.concat(o),l=0,c=s;l<c.length;l++){var u=c[l],f=r[u],h=yn(f),g=h.targetName||u,y=vi(h.inject,h.multiInject,u,n),_=new qt(St.ClassProperty,g,y);_.metadata=f,i.push(_)}var C=Object.getPrototypeOf(t.prototype).constructor;if(C!==Object){var A=pn(e,C,n);i=Bt(Bt([],i,!0),A,!0)}return i}function gn(e,t){var n=Object.getPrototypeOf(t.prototype).constructor;if(n!==Object){var r=Ht(n),i=hn(e,r,n,!0),o=i.map(function(l){return l.metadata.filter(function(c){return c.key===le})}),a=[].concat.apply([],o).length,s=i.length-a;return s>0?s:gn(e,n)}else return 0}function yn(e){var t={};return e.forEach(function(n){t[n.key.toString()]=n.value}),{inject:t[fe],multiInject:t[pt],targetName:t[an],unmanaged:t[le]}}var de=function(){function e(t,n,r,i,o){this.id=Tt(),this.serviceIdentifier=t,this.parentContext=n,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=r===null?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();function Ft(e){return e._bindingDictionary}function mi(e,t,n,r,i,o){var a=e?pt:fe,s=new ot(a,n),l=new qt(t,r,n,s);if(i!==void 0){var c=new ot(i,o);l.metadata.push(c)}return l}function Re(e,t,n,r,i){var o=yt(n.container,i.serviceIdentifier),a=[];return o.length===Nt.NoBindingsAvailable&&n.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=yt(n.container,i.serviceIdentifier)),t?a=o:a=o.filter(function(s){var l=new de(s.serviceIdentifier,n,r,s,i);return s.constraint(l)}),wi(i.serviceIdentifier,a,i,n.container),a}function wi(e,t,n,r){switch(t.length){case Nt.NoBindingsAvailable:if(n.isOptional())return t;var i=gt(e),o=Lr;throw o+=ui(i,n),o+=Pe(r,i,yt),new Error(o);case Nt.OnlyOneBindingAvailable:return t;case Nt.MultipleBindingsAvailable:default:if(n.isArray())return t;var i=gt(e),o=Fr+" "+i;throw o+=Pe(r,i,yt),new Error(o)}}function vn(e,t,n,r,i,o){var a,s;if(i===null){a=Re(e,t,r,null,o),s=new de(n,r,null,a,o);var l=new fi(r,s);r.addPlan(l)}else a=Re(e,t,r,i,o),s=i.addChildRequest(o.serviceIdentifier,a,o);a.forEach(function(c){var u=null;if(o.isArray())u=s.addChildRequest(c.serviceIdentifier,c,o);else{if(c.cache)return;u=s}if(c.type===v.Instance&&c.implementationType!==null){var f=pi(e,c.implementationType);if(!r.container.options.skipBaseClassChecks){var h=gn(e,c.implementationType);if(f.length<h){var g=zr(Ht(c.implementationType));throw new Error(g)}}f.forEach(function(y){vn(e,!1,y.serviceIdentifier,r,u,y)})}})}function yt(e,t){var n=[],r=Ft(e);return r.hasKey(t)?n=r.get(t):e.parent!==null&&(n=yt(e.parent,t)),n}function bi(e,t,n,r,i,o,a,s){s===void 0&&(s=!1);var l=new dn(t),c=mi(n,r,i,"",o,a);try{return vn(e,s,i,l,null,c),l}catch(u){throw un(u)&&fn(l.plan.rootRequest),u}}function _i(e,t,n,r){var i=new qt(St.Variable,"",t,new ot(n,r)),o=new dn(e),a=new de(t,o,null,[],i);return a}function M(e){var t=typeof e=="object"&&e!==null||typeof e=="function";return t&&typeof e.then=="function"}function mn(e){return M(e)?!0:Array.isArray(e)&&e.some(M)}var Ai=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},Si=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ti=function(e,t){return t.scope===S.Singleton&&t.activated?t.cache:t.scope===S.Request&&e.has(t.id)?e.get(t.id):null},Ci=function(e,t,n){t.scope===S.Singleton&&Ei(t,n),t.scope===S.Request&&xi(e,t,n)},xi=function(e,t,n){e.has(t.id)||e.set(t.id,n)},Ei=function(e,t){e.cache=t,e.activated=!0,M(t)&&Ii(e,t)},Ii=function(e,t){return Ai(void 0,void 0,void 0,function(){var n,r;return Si(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t];case 1:return n=i.sent(),e.cache=n,[3,3];case 2:throw r=i.sent(),e.cache=null,e.activated=!1,r;case 3:return[2]}})})},dt;(function(e){e.DynamicValue="toDynamicValue",e.Factory="toFactory",e.Provider="toProvider"})(dt||(dt={}));var Ni=function(e){var t=null;switch(e.type){case v.ConstantValue:case v.Function:t=e.cache;break;case v.Constructor:case v.Instance:t=e.implementationType;break;case v.DynamicValue:t=e.dynamicValue;break;case v.Provider:t=e.provider;break;case v.Factory:t=e.factory;break}if(t===null){var n=gt(e.serviceIdentifier);throw new Error(Gr+" "+n)}},Oi=function(e){switch(e.type){case v.Factory:return{factory:e.factory,factoryType:dt.Factory};case v.Provider:return{factory:e.provider,factoryType:dt.Provider};case v.DynamicValue:return{factory:e.dynamicValue,factoryType:dt.DynamicValue};default:throw new Error("Unexpected factory type "+e.type)}},at=globalThis&&globalThis.__assign||function(){return at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},at.apply(this,arguments)},wn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},bn=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Di=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};function ki(e,t){return e.reduce(function(n,r){var i=t(r),o=r.target.type;return o===St.ConstructorArgument?n.constructorInjections.push(i):(n.propertyRequests.push(r),n.propertyInjections.push(i)),n.isAsync||(n.isAsync=mn(i)),n},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function Mi(e,t,n){var r;if(t.length>0){var i=ki(t,n),o=at(at({},i),{constr:e});i.isAsync?r=Pi(o):r=_n(o)}else r=new e;return r}function _n(e){var t,n=new((t=e.constr).bind.apply(t,Di([void 0],e.constructorInjections,!1)));return e.propertyRequests.forEach(function(r,i){var o=r.target.identifier,a=e.propertyInjections[i];n[o]=a}),n}function Pi(e){return wn(this,void 0,void 0,function(){var t,n;return bn(this,function(r){switch(r.label){case 0:return[4,je(e.constructorInjections)];case 1:return t=r.sent(),[4,je(e.propertyInjections)];case 2:return n=r.sent(),[2,_n(at(at({},e),{constructorInjections:t,propertyInjections:n}))]}})})}function je(e){return wn(this,void 0,void 0,function(){var t,n,r,i;return bn(this,function(o){for(t=[],n=0,r=e;n<r.length;n++)i=r[n],Array.isArray(i)?t.push(Promise.all(i)):t.push(i);return[2,Promise.all(t)]})})}function $e(e,t){var n=Ri(e,t);return M(n)?n.then(function(){return t}):t}function Ri(e,t){var n,r;if(Reflect.hasMetadata(De,e)){var i=Reflect.getMetadata(De,e);try{return(r=(n=t)[i.value])===null||r===void 0?void 0:r.call(n)}catch(o){throw new Error(ni(e.name,o.message))}}}function ji(e,t){e.scope!==S.Singleton&&$i(e,t)}function $i(e,t){var n="Class cannot be instantiated in "+(e.scope===S.Request?"request":"transient")+" scope.";if(typeof e.onDeactivation=="function")throw new Error(ie(t.name,n));if(Reflect.hasMetadata(re,t))throw new Error(ri(t.name,n))}function Bi(e,t,n,r){ji(e,t);var i=Mi(t,n,r);return M(i)?i.then(function(o){return $e(t,o)}):$e(t,i)}var Fi=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},Vi=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},he=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,r=t.childRequests,i=t.target&&t.target.isArray(),o=!t.parentRequest||!t.parentRequest.target||!t.target||!t.parentRequest.target.matchesArray(t.target.serviceIdentifier);if(i&&o)return r.map(function(s){var l=he(e);return l(s)});if(t.target.isOptional()&&n.length===0)return;var a=n[0];return Gi(e,t,a)}},Li=function(e,t){var n=Oi(e);return si(function(){return n.factory.bind(e)(t)},function(){return new Error(ii(n.factoryType,t.currentRequest.serviceIdentifier.toString()))})},Ui=function(e,t,n){var r,i=t.childRequests;switch(Ni(n),n.type){case v.ConstantValue:case v.Function:r=n.cache;break;case v.Constructor:r=n.implementationType;break;case v.Instance:r=Bi(n,n.implementationType,i,he(e));break;default:r=Li(n,t.parentContext)}return r},Wi=function(e,t,n){var r=Ti(e,t);return r!==null||(r=n(),Ci(e,t,r)),r},Gi=function(e,t,n){return Wi(e,n,function(){var r=Ui(e,t,n);return M(r)?r=r.then(function(i){return Be(t,n,i)}):r=Be(t,n,r),r})};function Be(e,t,n){var r=Hi(e.parentContext,t,n),i=Ji(e.parentContext.container),o,a=i.next();do{o=a.value;var s=e.parentContext,l=e.serviceIdentifier,c=Yi(o,l);M(r)?r=An(c,s,r):r=qi(c,s,r),a=i.next()}while(a.done!==!0&&!Ft(o).hasKey(e.serviceIdentifier));return r}var Hi=function(e,t,n){var r;return typeof t.onActivation=="function"?r=t.onActivation(e,n):r=n,r},qi=function(e,t,n){for(var r=e.next();!r.done;){if(n=r.value(t,n),M(n))return An(e,t,n);r=e.next()}return n},An=function(e,t,n){return Fi(void 0,void 0,void 0,function(){var r,i;return Vi(this,function(o){switch(o.label){case 0:return[4,n];case 1:r=o.sent(),i=e.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(t,r)];case 3:return r=o.sent(),i=e.next(),[3,2];case 4:return[2,r]}})})},Yi=function(e,t){var n=e._activations;return n.hasKey(t)?n.get(t).values():[].values()},Ji=function(e){for(var t=[e],n=e.parent;n!==null;)t.push(n),n=n.parent;var r=function(){var o=t.pop();return o!==void 0?{done:!1,value:o}:{done:!0,value:void 0}},i={next:r};return i};function Ki(e){var t=he(e.plan.rootRequest.requestScope);return t(e.plan.rootRequest)}var W=function(e,t){var n=e.parentRequest;return n!==null?t(n)?!0:W(n,t):!1},lt=function(e){return function(t){var n=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(e)(t)};return n.metaData=new ot(e,t),n}},Et=lt(B),Xt=function(e){return function(t){var n=null;if(t!==null)if(n=t.bindings[0],typeof e=="string"){var r=n.serviceIdentifier;return r===e}else{var i=t.bindings[0].implementationType;return e===i}return!1}},Vt=function(){function e(t){this._binding=t}return e.prototype.when=function(t){return this._binding.constraint=t,new I(this._binding)},e.prototype.whenTargetNamed=function(t){return this._binding.constraint=Et(t),new I(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){if(t===null)return!1;var n=t.target!==null&&!t.target.isNamed()&&!t.target.isTagged();return n},new I(this._binding)},e.prototype.whenTargetTagged=function(t,n){return this._binding.constraint=lt(t)(n),new I(this._binding)},e.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(n){return n!==null&&Xt(t)(n.parentRequest)},new I(this._binding)},e.prototype.whenParentNamed=function(t){return this._binding.constraint=function(n){return n!==null&&Et(t)(n.parentRequest)},new I(this._binding)},e.prototype.whenParentTagged=function(t,n){return this._binding.constraint=function(r){return r!==null&&lt(t)(n)(r.parentRequest)},new I(this._binding)},e.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(n){return n!==null&&W(n,Xt(t))},new I(this._binding)},e.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(n){return n!==null&&!W(n,Xt(t))},new I(this._binding)},e.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(n){return n!==null&&W(n,Et(t))},new I(this._binding)},e.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(n){return n!==null&&!W(n,Et(t))},new I(this._binding)},e.prototype.whenAnyAncestorTagged=function(t,n){return this._binding.constraint=function(r){return r!==null&&W(r,lt(t)(n))},new I(this._binding)},e.prototype.whenNoAncestorTagged=function(t,n){return this._binding.constraint=function(r){return r!==null&&!W(r,lt(t)(n))},new I(this._binding)},e.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(n){return n!==null&&W(n,t)},new I(this._binding)},e.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(n){return n!==null&&!W(n,t)},new I(this._binding)},e}(),I=function(){function e(t){this._binding=t}return e.prototype.onActivation=function(t){return this._binding.onActivation=t,new Vt(this._binding)},e.prototype.onDeactivation=function(t){return this._binding.onDeactivation=t,new Vt(this._binding)},e}(),G=function(){function e(t){this._binding=t,this._bindingWhenSyntax=new Vt(this._binding),this._bindingOnSyntax=new I(this._binding)}return e.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},e.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},e.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},e.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},e.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},e.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},e.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},e.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},e.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},e.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},e.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},e.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},e.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},e.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},e.prototype.onDeactivation=function(t){return this._bindingOnSyntax.onDeactivation(t)},e}(),zi=function(){function e(t){this._binding=t}return e.prototype.inRequestScope=function(){return this._binding.scope=S.Request,new G(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=S.Singleton,new G(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=S.Transient,new G(this._binding)},e}(),Fe=function(){function e(t){this._binding=t,this._bindingWhenSyntax=new Vt(this._binding),this._bindingOnSyntax=new I(this._binding),this._bindingInSyntax=new zi(t)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},e.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},e.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},e.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},e.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},e.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},e.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},e.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},e.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},e.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},e.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},e.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},e.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},e.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},e.prototype.onDeactivation=function(t){return this._bindingOnSyntax.onDeactivation(t)},e}(),Xi=function(){function e(t){this._binding=t}return e.prototype.to=function(t){return this._binding.type=v.Instance,this._binding.implementationType=t,new Fe(this._binding)},e.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+Kr);var t=this._binding.serviceIdentifier;return this.to(t)},e.prototype.toConstantValue=function(t){return this._binding.type=v.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=S.Singleton,new G(this._binding)},e.prototype.toDynamicValue=function(t){return this._binding.type=v.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new Fe(this._binding)},e.prototype.toConstructor=function(t){return this._binding.type=v.Constructor,this._binding.implementationType=t,this._binding.scope=S.Singleton,new G(this._binding)},e.prototype.toFactory=function(t){return this._binding.type=v.Factory,this._binding.factory=t,this._binding.scope=S.Singleton,new G(this._binding)},e.prototype.toFunction=function(t){if(typeof t!="function")throw new Error(Yr);var n=this.toConstantValue(t);return this._binding.type=v.Function,this._binding.scope=S.Singleton,n},e.prototype.toAutoFactory=function(t){return this._binding.type=v.Factory,this._binding.factory=function(n){var r=function(){return n.container.get(t)};return r},this._binding.scope=S.Singleton,new G(this._binding)},e.prototype.toAutoNamedFactory=function(t){return this._binding.type=v.Factory,this._binding.factory=function(n){return function(r){return n.container.getNamed(t,r)}},new G(this._binding)},e.prototype.toProvider=function(t){return this._binding.type=v.Provider,this._binding.provider=t,this._binding.scope=S.Singleton,new G(this._binding)},e.prototype.toService=function(t){this.toDynamicValue(function(n){return n.container.get(t)})},e}(),Qi=function(){function e(){}return e.of=function(t,n,r,i,o){var a=new e;return a.bindings=t,a.middleware=n,a.deactivations=i,a.activations=r,a.moduleActivationStore=o,a},e}();function Zi(e){return typeof e=="object"&&e!==null&&"clone"in e&&typeof e.clone=="function"}var X=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(t,n){if(t==null)throw new Error(ut);if(n==null)throw new Error(ut);var r=this._map.get(t);r!==void 0?r.push(n):this._map.set(t,[n])},e.prototype.get=function(t){if(t==null)throw new Error(ut);var n=this._map.get(t);if(n!==void 0)return n;throw new Error(Me)},e.prototype.remove=function(t){if(t==null)throw new Error(ut);if(!this._map.delete(t))throw new Error(Me)},e.prototype.removeIntersection=function(t){var n=this;this.traverse(function(r,i){var o=t.hasKey(r)?t.get(r):void 0;if(o!==void 0){var a=i.filter(function(s){return!o.some(function(l){return s===l})});n._setValue(r,a)}})},e.prototype.removeByCondition=function(t){var n=this,r=[];return this._map.forEach(function(i,o){for(var a=[],s=0,l=i;s<l.length;s++){var c=l[s],u=t(c);u?r.push(c):a.push(c)}n._setValue(o,a)}),r},e.prototype.hasKey=function(t){if(t==null)throw new Error(ut);return this._map.has(t)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(n,r){n.forEach(function(i){return t.add(r,Zi(i)?i.clone():i)})}),t},e.prototype.traverse=function(t){this._map.forEach(function(n,r){t(r,n)})},e.prototype._setValue=function(t,n){n.length>0?this._map.set(t,n):this._map.delete(t)},e}(),to=function(){function e(){this._map=new Map}return e.prototype.remove=function(t){if(this._map.has(t)){var n=this._map.get(t);return this._map.delete(t),n}return this._getEmptyHandlersStore()},e.prototype.addDeactivation=function(t,n,r){this._getModuleActivationHandlers(t).onDeactivations.add(n,r)},e.prototype.addActivation=function(t,n,r){this._getModuleActivationHandlers(t).onActivations.add(n,r)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(n,r){t._map.set(r,{onActivations:n.onActivations.clone(),onDeactivations:n.onDeactivations.clone()})}),t},e.prototype._getModuleActivationHandlers=function(t){var n=this._map.get(t);return n===void 0&&(n=this._getEmptyHandlersStore(),this._map.set(t,n)),n},e.prototype._getEmptyHandlersStore=function(){var t={onActivations:new X,onDeactivations:new X};return t},e}(),Lt=globalThis&&globalThis.__assign||function(){return Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Lt.apply(this,arguments)},j=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},$=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},eo=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},no=function(){function e(t){var n=t||{};if(typeof n!="object")throw new Error(""+Xr);if(n.defaultScope===void 0)n.defaultScope=S.Transient;else if(n.defaultScope!==S.Singleton&&n.defaultScope!==S.Transient&&n.defaultScope!==S.Request)throw new Error(""+Qr);if(n.autoBindInjectable===void 0)n.autoBindInjectable=!1;else if(typeof n.autoBindInjectable!="boolean")throw new Error(""+Zr);if(n.skipBaseClassChecks===void 0)n.skipBaseClassChecks=!1;else if(typeof n.skipBaseClassChecks!="boolean")throw new Error(""+ti);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=Tt(),this._bindingDictionary=new X,this._snapshots=[],this._middleware=null,this._activations=new X,this._deactivations=new X,this.parent=null,this._metadataReader=new ai,this._moduleActivationStore=new to}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new e,a=eo([t,n],r,!0).map(function(c){return Ft(c)}),s=Ft(o);function l(c,u){c.traverse(function(f,h){h.forEach(function(g){u.add(g.serviceIdentifier,g.clone())})})}return a.forEach(function(c){l(c,s)}),o},e.prototype.load=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=this._getContainerModuleHelpersFactory(),i=0,o=t;i<o.length;i++){var a=o[i],s=r(a.id);a.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction,s.unbindAsyncFunction,s.onActivationFunction,s.onDeactivationFunction)}},e.prototype.loadAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return j(this,void 0,void 0,function(){var r,i,o,a,s;return $(this,function(l){switch(l.label){case 0:r=this._getContainerModuleHelpersFactory(),i=0,o=t,l.label=1;case 1:return i<o.length?(a=o[i],s=r(a.id),[4,a.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction,s.unbindAsyncFunction,s.onActivationFunction,s.onDeactivationFunction)]):[3,4];case 2:l.sent(),l.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach(function(i){var o=t._removeModuleBindings(i.id);t._deactivateSingletons(o),t._removeModuleHandlers(i.id)})},e.prototype.unloadAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return j(this,void 0,void 0,function(){var r,i,o,a;return $(this,function(s){switch(s.label){case 0:r=0,i=t,s.label=1;case 1:return r<i.length?(o=i[r],a=this._removeModuleBindings(o.id),[4,this._deactivateSingletonsAsync(a)]):[3,4];case 2:s.sent(),this._removeModuleHandlers(o.id),s.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.bind=function(t){var n=this.options.defaultScope||S.Transient,r=new $r(t,n);return this._bindingDictionary.add(t,r),new Xi(r)},e.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},e.prototype.rebindAsync=function(t){return j(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return[4,this.unbindAsync(t)];case 1:return n.sent(),[2,this.bind(t)]}})})},e.prototype.unbind=function(t){if(this._bindingDictionary.hasKey(t)){var n=this._bindingDictionary.get(t);this._deactivateSingletons(n)}this._removeServiceFromDictionary(t)},e.prototype.unbindAsync=function(t){return j(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return this._bindingDictionary.hasKey(t)?(n=this._bindingDictionary.get(t),[4,this._deactivateSingletonsAsync(n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return this._removeServiceFromDictionary(t),[2]}})})},e.prototype.unbindAll=function(){var t=this;this._bindingDictionary.traverse(function(n,r){t._deactivateSingletons(r)}),this._bindingDictionary=new X},e.prototype.unbindAllAsync=function(){return j(this,void 0,void 0,function(){var t,n=this;return $(this,function(r){switch(r.label){case 0:return t=[],this._bindingDictionary.traverse(function(i,o){t.push(n._deactivateSingletonsAsync(o))}),[4,Promise.all(t)];case 1:return r.sent(),this._bindingDictionary=new X,[2]}})})},e.prototype.onActivation=function(t,n){this._activations.add(t,n)},e.prototype.onDeactivation=function(t,n){this._deactivations.add(t,n)},e.prototype.isBound=function(t){var n=this._bindingDictionary.hasKey(t);return!n&&this.parent&&(n=this.parent.isBound(t)),n},e.prototype.isCurrentBound=function(t){return this._bindingDictionary.hasKey(t)},e.prototype.isBoundNamed=function(t,n){return this.isBoundTagged(t,B,n)},e.prototype.isBoundTagged=function(t,n,r){var i=!1;if(this._bindingDictionary.hasKey(t)){var o=this._bindingDictionary.get(t),a=_i(this,t,n,r);i=o.some(function(s){return s.constraint(a)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,n,r)),i},e.prototype.snapshot=function(){this._snapshots.push(Qi.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},e.prototype.restore=function(){var t=this._snapshots.pop();if(t===void 0)throw new Error(Hr);this._bindingDictionary=t.bindings,this._activations=t.activations,this._deactivations=t.deactivations,this._middleware=t.middleware,this._moduleActivationStore=t.moduleActivationStore},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(i,o){return o(i)},r)},e.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},e.prototype.get=function(t){var n=this._getNotAllArgs(t,!1);return this._getButThrowIfAsync(n)},e.prototype.getAsync=function(t){return j(this,void 0,void 0,function(){var n;return $(this,function(r){return n=this._getNotAllArgs(t,!1),[2,this._get(n)]})})},e.prototype.getTagged=function(t,n,r){var i=this._getNotAllArgs(t,!1,n,r);return this._getButThrowIfAsync(i)},e.prototype.getTaggedAsync=function(t,n,r){return j(this,void 0,void 0,function(){var i;return $(this,function(o){return i=this._getNotAllArgs(t,!1,n,r),[2,this._get(i)]})})},e.prototype.getNamed=function(t,n){return this.getTagged(t,B,n)},e.prototype.getNamedAsync=function(t,n){return this.getTaggedAsync(t,B,n)},e.prototype.getAll=function(t){var n=this._getAllArgs(t);return this._getButThrowIfAsync(n)},e.prototype.getAllAsync=function(t){var n=this._getAllArgs(t);return this._getAll(n)},e.prototype.getAllTagged=function(t,n,r){var i=this._getNotAllArgs(t,!0,n,r);return this._getButThrowIfAsync(i)},e.prototype.getAllTaggedAsync=function(t,n,r){var i=this._getNotAllArgs(t,!0,n,r);return this._getAll(i)},e.prototype.getAllNamed=function(t,n){return this.getAllTagged(t,B,n)},e.prototype.getAllNamedAsync=function(t,n){return this.getAllTaggedAsync(t,B,n)},e.prototype.resolve=function(t){var n=this.isBound(t);n||this.bind(t).toSelf();var r=this.get(t);return n||this.unbind(t),r},e.prototype._preDestroy=function(t,n){if(Reflect.hasMetadata(re,t)){var r=Reflect.getMetadata(re,t);return n[r.value]()}},e.prototype._removeModuleHandlers=function(t){var n=this._moduleActivationStore.remove(t);this._activations.removeIntersection(n.onActivations),this._deactivations.removeIntersection(n.onDeactivations)},e.prototype._removeModuleBindings=function(t){return this._bindingDictionary.removeByCondition(function(n){return n.moduleId===t})},e.prototype._deactivate=function(t,n){var r=this,i=Object.getPrototypeOf(n).constructor;try{if(this._deactivations.hasKey(t.serviceIdentifier)){var o=this._deactivateContainer(n,this._deactivations.get(t.serviceIdentifier).values());if(M(o))return this._handleDeactivationError(o.then(function(){return r._propagateContainerDeactivationThenBindingAndPreDestroyAsync(t,n,i)}),i)}var a=this._propagateContainerDeactivationThenBindingAndPreDestroy(t,n,i);if(M(a))return this._handleDeactivationError(a,i)}catch(s){throw new Error(ie(i.name,s.message))}},e.prototype._handleDeactivationError=function(t,n){return j(this,void 0,void 0,function(){var r;return $(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t];case 1:return i.sent(),[3,3];case 2:throw r=i.sent(),new Error(ie(n.name,r.message));case 3:return[2]}})})},e.prototype._deactivateContainer=function(t,n){for(var r=this,i=n.next();i.value;){var o=i.value(t);if(M(o))return o.then(function(){return r._deactivateContainerAsync(t,n)});i=n.next()}},e.prototype._deactivateContainerAsync=function(t,n){return j(this,void 0,void 0,function(){var r;return $(this,function(i){switch(i.label){case 0:r=n.next(),i.label=1;case 1:return r.value?[4,r.value(t)]:[3,3];case 2:return i.sent(),r=n.next(),[3,1];case 3:return[2]}})})},e.prototype._getContainerModuleHelpersFactory=function(){var t=this,n=function(u,f){u._binding.moduleId=f},r=function(u){return function(f){var h=t.bind(f);return n(h,u),h}},i=function(){return function(u){return t.unbind(u)}},o=function(){return function(u){return t.unbindAsync(u)}},a=function(){return function(u){return t.isBound(u)}},s=function(u){return function(f){var h=t.rebind(f);return n(h,u),h}},l=function(u){return function(f,h){t._moduleActivationStore.addActivation(u,f,h),t.onActivation(f,h)}},c=function(u){return function(f,h){t._moduleActivationStore.addDeactivation(u,f,h),t.onDeactivation(f,h)}};return function(u){return{bindFunction:r(u),isboundFunction:a(),onActivationFunction:l(u),onDeactivationFunction:c(u),rebindFunction:s(u),unbindFunction:i(),unbindAsyncFunction:o()}}},e.prototype._getAll=function(t){return Promise.all(this._get(t))},e.prototype._get=function(t){var n=Lt(Lt({},t),{contextInterceptor:function(i){return i},targetType:St.Variable});if(this._middleware){var r=this._middleware(n);if(r==null)throw new Error(qr);return r}return this._planAndResolve()(n)},e.prototype._getButThrowIfAsync=function(t){var n=this._get(t);if(mn(n))throw new Error(Jr(t.serviceIdentifier));return n},e.prototype._getAllArgs=function(t){var n={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:t};return n},e.prototype._getNotAllArgs=function(t,n,r,i){var o={avoidConstraints:!1,isMultiInject:n,serviceIdentifier:t,key:r,value:i};return o},e.prototype._planAndResolve=function(){var t=this;return function(n){var r=bi(t._metadataReader,t,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);r=n.contextInterceptor(r);var i=Ki(r);return i}},e.prototype._deactivateIfSingleton=function(t){var n=this;if(t.activated)return M(t.cache)?t.cache.then(function(r){return n._deactivate(t,r)}):this._deactivate(t,t.cache)},e.prototype._deactivateSingletons=function(t){for(var n=0,r=t;n<r.length;n++){var i=r[n],o=this._deactivateIfSingleton(i);if(M(o))throw new Error(ei)}},e.prototype._deactivateSingletonsAsync=function(t){return j(this,void 0,void 0,function(){var n=this;return $(this,function(r){switch(r.label){case 0:return[4,Promise.all(t.map(function(i){return n._deactivateIfSingleton(i)}))];case 1:return r.sent(),[2]}})})},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(t,n,r){return this.parent?this._deactivate.bind(this.parent)(t,n):this._bindingDeactivationAndPreDestroy(t,n,r)},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(t,n,r){return j(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(t,n)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(t,n,r)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},e.prototype._removeServiceFromDictionary=function(t){try{this._bindingDictionary.remove(t)}catch{throw new Error(Vr+" "+gt(t))}},e.prototype._bindingDeactivationAndPreDestroy=function(t,n,r){var i=this;if(typeof t.onDeactivation=="function"){var o=t.onDeactivation(n);if(M(o))return o.then(function(){return i._preDestroy(r,n)})}return this._preDestroy(r,n)},e.prototype._bindingDeactivationAndPreDestroyAsync=function(t,n,r){return j(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return typeof t.onDeactivation!="function"?[3,2]:[4,t.onDeactivation(n)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(r,n)];case 3:return i.sent(),[2]}})})},e}();function Sn(){return function(e){if(Reflect.hasOwnMetadata(ne,e))throw new Error(Br);var t=Reflect.getMetadata(Pr,e)||[];return Reflect.defineMetadata(ne,t,e),e}}class pe{name;stork;isInitialized=!1;currentIndexUrl;wasmUrl;storkJsUrl;constructor(t,n,r){this.storkJsUrl=r,this.name=t,this.wasmUrl=n}async initialize(){if(!this.stork)throw new Error("Load stork script first");await this.stork.initialize(this.wasmUrl),this.isInitialized=!0}async changeIndex(t){if(!this.stork)throw new Error("Load stork script first");await this.stork.downloadIndex(this.name,t,{forceOverwrite:!0}),this.currentIndexUrl=t}static waitForDocumentReadyState(t){return new Promise(n=>{document.readyState===t&&n();const r=()=>{if(document.readyState===t){n();return}window.setTimeout(r,10)};setTimeout(r,5)})}loadStorkScript=async()=>new Promise((t,n)=>{this.stork&&t(),window.stork&&(this.stork=window.stork,t());const r=document.createElement("script");r.type="text/javascript",r.src=this.storkJsUrl,r.async=!0,r.onerror=i=>n(new Error(`Can't load stork js script, with error: ${i}`)),r.addEventListener("load",async()=>{await pe.waitForDocumentReadyState("complete"),this.stork=window.stork,t()}),document.head.append(r)});async search(t,n,r){this.stork||await this.loadStorkScript(),r.throwIfCancelled();const i=this.isInitialized?Promise.resolve():this.initialize(),o=this.currentIndexUrl===n?Promise.resolve():this.changeIndex(n);return await Promise.all([i,o]),this.stork.search(this.name,t)}}var ro=Object.defineProperty,io=Object.getOwnPropertyDescriptor,oo=(e,t,n,r)=>{for(var i=r>1?void 0:r?io(t,n):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(i=(r?a(t,n,i):a(i))||i);return r&&i&&ro(t,n,i),i};let vt=class{static cache=new Map;storkJsUrl;wasmUrl;constructor(e,t){this.wasmUrl=e,this.storkJsUrl=t}getOrCreate(e){let t=vt.cache.get(e);return t||(t=new pe(e,this.wasmUrl,this.storkJsUrl),vt.cache.set(e,t)),t}};vt=oo([Sn()],vt);var mt=(e=>(e[e.None=0]="None",e[e.Error=30]="Error",e[e.Warn=50]="Warn",e[e.Info=60]="Info",e[e.Debug=70]="Debug",e[e.Verbose=80]="Verbose",e[e.All=9999]="All",e))(mt||{}),ao=Object.defineProperty,so=Object.getOwnPropertyDescriptor,co=(e,t,n,r)=>{for(var i=r>1?void 0:r?so(t,n):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(i=(r?a(t,n,i):a(i))||i);return r&&i&&ao(t,n,i),i};const uo=[{level:"error",method:"error"},{level:"warn",method:"warn"},{level:"info",method:"info"},{level:"debug",method:"debug"},{level:"verbose",method:"trace"}];let Ut=class{constructor(e){const t=console?e:mt.None,n=r=>r[0].toUpperCase()+r.slice(1);for(const r of uo){if(t>=mt[n(r.level)]){let i=console[r.method];typeof i!="function"&&(i=console.log),typeof i=="function"&&(this[r.level]=(...o)=>i.apply(console,o))}this[r.level]??=En}}error;warn;info;debug;verbose};Ut=co([Sn()],Ut);class Ve{storage=new Map;clear=()=>{this.storage.clear()};getItem=t=>this.storage.get(t);removeItem=t=>{this.storage.delete(t)};setItem=(t,n)=>{this.storage.set(t,n)}}function lo(e){e.bind(Y.ContainerType).toConstantValue("base"),e.bind(Y.Version).toConstantValue("0.2.24"),e.bind(Y.Logger).toConstantValue(new Ut(mt.None)),e.bind(Y.Configuration).toConstantValue({basePath:"",servedUrl:"https://vchirikov.ru"}),e.bind(Ot.LocalStorage).toConstantValue(new Ve),e.bind(Ot.SessionStorage).toConstantValue(new Ve),e.bind(Ot.StorkClientProvider).toConstantValue(void 0)}const Ot={LocalStorage:Symbol("LocalStorage"),SessionStorage:Symbol("SessionStorage"),StorkClientProvider:Symbol("StorkClientProvider")},Y={ContainerType:Symbol("ContainerType"),Logger:Symbol("Logger"),Configuration:Symbol("Configuration"),Version:Symbol("Version"),PageContext:Symbol("PageContext"),...Ot};function fo(e,t){const n=e.createChild(Tn);return n.bind(Y.PageContext).toConstantValue(t),n}const Tn={defaultScope:"Singleton"},Q={...Y},Z=new no(Tn);lo(Z);Z.rebind(Y.ContainerType).toConstantValue("client");Z.rebind(Y.Logger).toConstantValue(new Ut(mt.Info));In&&(Z.rebind(Q.LocalStorage).toConstantValue(window.localStorage),Z.rebind(Q.SessionStorage).toConstantValue(window.sessionStorage),Z.rebind(Q.StorkClientProvider).toDynamicValue(e=>{const t=e.container.get(Q.Configuration);return new vt(`${t.servedUrl}/stork/stork.wasm`,`${t.servedUrl}/stork/stork.js`)}).inSingletonScope());function Qo(e){return fo(Z,e)}const ho=wt(void 0);function ge(){const e=bt(ho);if(!e)throw new Error("Container isn't presented in the context");return e}function Zo(){return ge().get(Q.PageContext)}function po(){return ge().get(Q.Logger)}function ta(){return ge().get(Q.Configuration)}var Cn=()=>new Proxy(Object.assign(()=>"",{}),{get:(e,t)=>t==="length"?0:Cn()}),go=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>t!=="i"&&n&&n!="0"&&[t,n]).filter(Boolean)),yo=e=>Object.fromEntries(Object.keys(e).map(t=>{const n=e[t];return[t,Array.isArray(n)?n.map(r=>r?.trim()):n===!!n?n:n?.trim()]})),vo=e=>{const[t="",...n]=e.split("|"),[r="",i]=t.split(":"),[o,a]=r.split("?");return{k:o,i,n:a==="",f:n}},mo=e=>!!(e.o||e.r),wo=(e,t)=>{let[n,r]=e.split(":");r||(r=n,n=t);const i=r.split("|"),[o,a,s,l,c,u]=i,f=i.filter(h=>h!==void 0).length;return f===1?{k:n,r:o}:f===2?{k:n,o,r:a}:f===3?{k:n,z:o,o:a,r:s}:{k:n,z:o,o:a,t:s,f:l,m:c,r:u}},bo=/^\{.*\}$/,_o=e=>Object.fromEntries(oe(e).split(",").map(t=>t.split(":")).reduce((t,n)=>n.length===2?[...t,n.map(r=>r.trim())]:(t[t.length-1][1]+=","+n[0],t),[])),Le=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,oe=e=>e.substring(1,e.length-1),Ao=(e,t=!0,n="",r="")=>e.split(Le).map(i=>{if(!i.match(Le))return i;const o=oe(i);if(o.startsWith("{"))return wo(oe(o),r);const a=vo(o);return r=a.k||r,!n&&(n=r),a}).map(i=>{if(typeof i=="string")return i;i.k||(i.k=n||"0");const o=yo(i);return t?go(o):o}),So=(e,t,n)=>t.reduce((r,i)=>{var o,a;return(a=i.match(bo)?(s=>{var l;return(l=s[r])!=null?l:s["*"]})(_o(i)):(o=e[i])==null?void 0:o.call(e,r))!=null?a:r},n),To=(e,{z:t,o:n,t:r,f:i,m:o,r:a},s)=>{switch(t&&s==0?"zero":e.select(s)){case"zero":return t;case"one":return n;case"two":return r;case"few":return i;case"many":return o;default:return a}},Co=/\?\?/g,xo=(e,t,n,r)=>e.map(i=>{if(typeof i=="string")return i;const{k:o="0",f:a=[]}=i,s=r[o];if(mo(i))return((typeof s=="boolean"?s?i.o:i.r:To(t,i,s))||"").replace(Co,s);const l=a.length?So(n,a,s):s;return(""+(l??"")).trim()}).join(""),Eo=(e,t,n,r)=>{const i=r[0],o=i&&typeof i=="object"&&i.constructor===Object,a=r.length===1&&o?i:r;return xo(e,t,n,a)},Io=(e,t)=>e[t]||(e[t]=Ao(t)),No=(e,t)=>{const n={},r=new Intl.PluralRules(e);return(i,...o)=>Eo(Io(n,i),r,t,o)};function Oo(e,t,n={}){return xn(t,No(e,n))}var Ue=(e={},t)=>typeof e=="string"?t.bind(null,e):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),e),xn=(e,t)=>new Proxy(Ue(e,t),{get:(n,r)=>r===Symbol.iterator?[][Symbol.iterator].bind(Object.values(n).map(i=>Ue(i,t))):xn(n[r],t)}),Do=(e,t={})=>{const n=wt({});return{TypesafeI18n:o=>{const[a,s]=V(null),[l,c]=V(Cn()),u=f=>$n(()=>{s(()=>f),c(()=>Oo(f,e[f],t[f]))});return u(o.locale),ht(n.Provider,{value:{locale:a,LL:l,setLocale:u},get children(){return o.children}})},useI18nContext:()=>bt(n)}};const{TypesafeI18n:ea,useI18nContext:ko}=Do(On,Nn),Mo=ce('<div class="text-xs"><!#><!/>: <!#><!/></div>',6),Po=ce('<div class="flex-none"><button class="btn btn-sm btn-ghost"><!#><!/>?</button></div>',6),Ro=ce('<div class="alert alert-error shadow-lg"><div><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current flex-shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h3 class="font-bold"><!#><!/>!</h3><!#><!/></div></div><!#><!/></div>',18),na=e=>{const{LL:t}=ko(),n=po();return He(()=>{n.error("Unhandled error:",e.error)}),(()=>{const r=It(Ro),i=r.firstChild,o=i.firstChild,a=o.nextSibling,s=a.firstChild,l=s.firstChild,[c,u]=et(l.nextSibling);c.nextSibling;const f=s.nextSibling,[h,g]=et(f.nextSibling),y=i.nextSibling,[_,C]=et(y.nextSibling);return z(s,()=>t().error_unknown(),c,u),z(a,ht(Te,{get when(){return e.error},get children(){const A=It(Mo),m=A.firstChild,[T,x]=et(m.nextSibling),P=T.nextSibling,H=P.nextSibling,[Yt,st]=et(H.nextSibling);return z(A,()=>t().error_info(),T,x),z(A,()=>e.error?.toString(),Yt,st),A}}),h,g),z(r,ht(Te,{get when(){return e.reset},get children(){const A=It(Po),m=A.firstChild,T=m.firstChild,[x,P]=et(T.nextSibling);return x.nextSibling,m.$$click=()=>e.reset(),z(m,()=>t().try_again(),x,P),yr(),A}}),_,C),r})()};tn(["click"]);const ye=wt(),jo=["title","meta"],We=e=>e.tag+(e.name?`.${e.name}"`:""),ra=e=>{if(!d.context){const i=document.head.querySelectorAll("[data-sm]");Array.prototype.forEach.call(i,o=>o.parentNode.removeChild(o))}const t=new Map;function n(i){if(i.ref)return i.ref;let o=document.querySelector(`[data-sm="${i.id}"]`);return o?(o.tagName.toLowerCase()!==i.tag&&(o.parentNode&&o.parentNode.removeChild(o),o=document.createElement(i.tag)),o.removeAttribute("data-sm")):o=document.createElement(i.tag),o}const r={addClientTag:i=>{let o=We(i);if(jo.indexOf(i.tag)!==-1){t.has(o)||t.set(o,[]);let s=t.get(o),l=s.length;s=[...s,i],t.set(o,s);{let c=n(i);i.ref=c,te(c,i.props);let u=null;for(var a=l-1;a>=0;a--)if(s[a]!=null){u=s[a];break}c.parentNode!=document.head&&document.head.appendChild(c),u&&u.ref&&document.head.removeChild(u.ref)}return l}{let s=n(i);i.ref=s,te(s,i.props),s.parentNode!=document.head&&document.head.appendChild(s)}return-1},removeClientTag:(i,o)=>{const a=We(i);if(i.ref){const s=t.get(a);if(s){if(i.ref.parentNode){i.ref.parentNode.removeChild(i.ref);for(let l=o-1;l>=0;l--)s[l]!=null&&document.head.appendChild(s[l].ref)}s[o]=null,t.set(a,s)}else i.ref.parentNode&&i.ref.parentNode.removeChild(i.ref)}}};return ht(ye.Provider,{value:r,get children(){return e.children}})},ve=(e,t)=>{const n=Qn();if(!bt(ye))throw new Error("<MetaProvider /> should be in the tree");return $o({tag:e,props:t,id:n,get name(){return t.name||t.property}}),null};function $o(e){const{addClientTag:t,removeClientTag:n,addServerTag:r}=bt(ye);J(()=>{{let i=t(e);Wt(()=>n(e,i))}})}const ia=e=>ve("title",e),oa=e=>ve("meta",e),aa=e=>ve("link",e);export{Bn as A,Wt as B,d as C,Xo as D,Ho as E,Uo as F,ft as G,lr as H,Qo as I,zo as J,cr as K,ra as L,Go as M,ho as N,zn as O,te as P,ia as Q,oa as R,qo as S,ea as T,aa as U,Yo as V,Jo as W,na as a,et as b,ht as c,J as d,ko as e,D as f,It as g,Te as h,z as i,tn as j,Zo as k,wt as l,bt as m,Vo as n,V as o,Lo as p,ge as q,yr as r,en as s,ce as t,ta as u,Q as v,po as w,Wo as x,Fo as y,Ko as z};

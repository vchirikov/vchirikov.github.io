<!DOCTYPE html>
    <html class="flex h-full w-full flex-col flex-nowrap" lang="ru">
      <head>
        <link rel="stylesheet" type="text/css" href="https://vchirikov.ru/assets/style.f2262c92.css">
        <script>document.documentElement.setAttribute('data-theme',window.localStorage.getItem('theme'))</script>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <meta name="color-scheme" content="dark light" />
        <link rel="apple-touch-icon" sizes="180x180" href="https://vchirikov.ru/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="https://vchirikov.ru/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="https://vchirikov.ru/favicon-16x16.png" />
        <link rel="icon" href="https://vchirikov.ru/favicon.ico" />
        <link rel="manifest" href="https://vchirikov.ru/site.webmanifest" />
        <script>(e=>{let t=e=>e&&e.hasAttribute&&(e.hasAttribute("data-hk")?e:t(e.host&&e.host instanceof Node?e.host:e.parentNode));["click", "input"].forEach((o=>document.addEventListener(o,(o=>{let s=o.composedPath&&o.composedPath()[0]||o.target,a=t(s);a&&!e.completed.has(a)&&e.events.push([a,o])}))))})(window._$HY||(_$HY={events:[],completed:new WeakSet,r:{},fe(){},init(e,t){_$HY.r[e]=[new Promise((e=>t=e)),t]},set(e,t,o){(o=_$HY.r[e])&&o[1](t),_$HY.r[e]=[t]},unset(e){delete _$HY.r[e]},load:e=>_$HY.r[e]}));</script><!--xs-->
        <title data-sm="0-0-0-0-0-0-0-6-0-0-0">Страница 1 | Владимир Чириков</title><meta data-sm="0-0-0-0-0-0-0-6-0-1-0" name="description" content="Страница 1"/><meta data-sm="0-0-0-0-0-0-0-6-0-2-0" name="author" content="Владимир Чириков"/><meta data-sm="0-0-0-0-0-0-0-6-0-3-0" property="og:url" content="https://vchirikov.ru/"/><meta data-sm="0-0-0-0-0-0-0-6-0-4-0" property="og:title" content="Страница 1. Страница 1"/><meta data-sm="0-0-0-0-0-0-0-6-0-5-0" property="og:description" content="Страница 1"/><meta data-sm="0-0-0-0-0-0-0-6-0-6-0" property="og:locale" content="ru"/><meta data-sm="0-0-0-0-0-0-0-6-0-7-0" property="og:site_name" content="Владимир Чириков"/><meta data-sm="0-0-0-0-0-0-0-6-0-9-0-0" property="og:type" content="website"/>
      </head>
      <body class="flex flex-1 flex-col flex-nowrap">
        <div id="app"><!e0-0-0-0-0-0-0><div data-hk="0-0-0-0-0-0-0-0" class="drawer drawer-end"><input id="drawer" type="checkbox" class="drawer-toggle"><!--#--><input data-hk="0-0-0-0-0-0-0-1-0" type="checkbox" id="search-modal" class="modal-toggle"><label data-hk="0-0-0-0-0-0-0-1-1" for="search-modal" class="modal cursor-pointer"><label class="modal-box border-base-content/5 relative flex max-h-[83%] min-h-[50%] w-11/12 max-w-5xl flex-col items-stretch border p-0 shadow" for=""><div class="bg-base-300 flex h-14 flex-row flex-nowrap items-center justify-between"><div class="form-control ml-4 h-14 flex-1 justify-center"><div class="h-9"><input data-hk="0-0-0-0-0-0-0-1-2-0" tabindex="0" type="text" placeholder="Поиск" class="input-bordered input h-full w-full opacity-50 transition-opacity hover:opacity-80 focus:opacity-80"></div></div><label for="search-modal" class="btn-sm btn-circle btn mx-2">✕</label></div><div class="bg-base-200 flex w-full flex-1 flex-col flex-nowrap overscroll-none"><div data-hk="0-0-0-0-0-0-0-1-3-0-3" class="flex flex-1 flex-row flex-nowrap items-center justify-center"><div><!--#-->Введите запрос в поле<!--/-->&nbsp;<pre class="kbd kbd-md text-primary inline">^^^</pre></div></div></div></label></label><!--/--><div class="drawer-content flex flex-1 flex-col flex-nowrap items-stretch"><div class="navbar border-base-content/5 bg-base-100 shadow-base-content z-10 select-none border-b drop-shadow-lg"><div class="flex-1"><!--#--><a data-hk="0-0-0-0-0-0-0-2-0" tabIndex="0" href="/ru/" class="btn-ghost btn-circle avatar btn active" aria-current="page"><div data-hk="0-0-0-0-0-0-0-2-1" class="w-12 rounded-full"><img alt="ava" src="https://vchirikov.ru/assets/img/ava.jpg"></div></a><!--/--><!--#--><a data-hk="0-0-0-0-0-0-0-3-0" href="/ru/" class="prose-sm prose md:prose-xl mx-2 font-semibold active" aria-current="page">Владимир Чириков</a><!--/--></div><div class="block sm:hidden"><label for="drawer" class="drawer-button btn btn-sm btn-ghost"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-6 h-6 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></label></div><div class="hidden flex-row-reverse gap-2 sm:flex"><label for="search-modal" class="input-bordered input h-9 select-none leading-9 opacity-50 transition-opacity hover:opacity-80 focus:opacity-80 sm:w-32 md:w-48 lg:w-64">Поиск</label><div class="flex flex-row items-center"><!--#--><div data-hk="0-0-0-0-0-0-0-4-0" class="opacity-50 transition-opacity hover:opacity-80"><a data-hk="0-0-0-0-0-0-0-4-1-0" href="/en/" class="btn-xs btn m-1 active" aria-current="page">EN</a></div><div data-hk="0-0-0-0-0-0-0-4-2" class="opacity-50 transition-opacity hover:opacity-80"><a data-hk="0-0-0-0-0-0-0-4-3-0" href="/ru/" class="btn-xs btn m-1 active" aria-current="page">RU</a></div><!--/--><!--#--><div data-hk="0-0-0-0-0-0-0-5-0" class="dropdown-end dropdown px-1"><label tabindex="0" class="link text-current opacity-40 hover:text-current hover:opacity-80"><svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11.334 14c.584 2.239 2.001 2.547 2.001 4.02 0 1.094-.896 1.98-2.001 1.98-1.104 0-2.015-.887-2.015-1.98 0-1.473 1.432-1.781 2.015-4.02zm12.666-2c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5.205-7.316l-2.641 2.316h2.791l1.085-.935c-.37-.498-.782-.96-1.235-1.381zm3.205 7.316c0-1.527-.354-2.969-.969-4.265l-4.486 3.902c-1.402 1.226-2.126.041-3.911 1.091-.237.141-.486.185-.71.158-.566-.07-1.018-.594-.941-1.216.024-.205.113-.419.267-.633 1.128-1.571.183-2.49 1.553-3.68l4.435-3.86c-1.527-.943-3.317-1.497-5.238-1.497-5.514 0-10 4.486-10 10s4.486 10 10 10 10-4.486 10-10z"></path></svg></label><div tabindex="0" class="dropdown-content rounded-box btn-group btn-group-vertical bg-base-100 mt-2 w-28 p-0 shadow"><button class="btn-ghost btn">Dark</button><button class="btn-active btn">Light</button><button class="btn-ghost btn">Berloga</button></div></div><!--/--></div></div></div><div class="bg-base-300 flex flex-1 flex-col flex-nowrap"><div class="border-secondary-content/5 bg-base-100 m-3 mx-auto w-full max-w-[78rem] flex-1 rounded-md border shadow"><ul data-hk="0-0-0-0-0-0-0-6-1-0-0-0" class="flex flex-1 flex-row flex-wrap items-stretch justify-center"><!e0-0-0-0-0-0-0-6-1-0-0-1-0-0><li data-hk="0-0-0-0-0-0-0-6-1-0-0-1-0-0-0-0" data-index="0" class="card bg-base-300 text-base-content border-secondary-content/5
                shadow-base/20 m-3 flex w-full flex-col flex-nowrap items-center
                justify-start overflow-x-clip border shadow lg:w-[28rem] xl:w-[36rem]"><!--#--><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-0-0-0-1-0" href="/ru/post/vite-plugin-ssr-solidjs" class="w-full select-none" ><figure data-hk="0-0-0-0-0-0-0-6-1-0-0-1-0-0-0-1-1"><img class="w-full" alt="image for vite-plugin-ssr-solidjs" src="https://vchirikov.ru/assets/img/generated/ru/vite-plugin-ssr-solidjs/d6a9e60b3e5c36a74ce4c2b62fbf6c72c0cc5d43.sm.svg" width="568" height="320"></figure></a><!--/--><div class="card-body flex-nowrap"><h2 class="card-title break-words"><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-0-0-0-2-0" href="/ru/post/vite-plugin-ssr-solidjs" class="" >vite-plugin-ssr + SolidJS</a></h2><p><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-0-0-0-3-0" href="/ru/post/vite-plugin-ssr-solidjs" class="break-all text-justify" >Переписал свою хоумпагу с NextJS на vite-plugin-ssr и SolidJS, так ли он быстр на самом деле?</a></p></div></li><!/e0-0-0-0-0-0-0-6-1-0-0-1-0-0><!e0-0-0-0-0-0-0-6-1-0-0-1-1-0><li data-hk="0-0-0-0-0-0-0-6-1-0-0-1-1-0-0-0" data-index="1" class="card bg-base-300 text-base-content border-secondary-content/5
                shadow-base/20 m-3 flex w-full flex-col flex-nowrap items-center
                justify-start overflow-x-clip border shadow lg:w-[28rem] xl:w-[36rem]"><!--#--><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-1-0-0-1-0" href="/ru/post/haproxy-w3c-traceparent" class="w-full select-none" ><figure data-hk="0-0-0-0-0-0-0-6-1-0-0-1-1-0-0-1-1"><img class="w-full" alt="image for haproxy-w3c-traceparent" src="https://vchirikov.ru/assets/img/generated/ru/haproxy-w3c-traceparent/1e860852ca46a9ac4e53686be3b8ed56cbbe5981.sm.svg" width="568" height="320"></figure></a><!--/--><div class="card-body flex-nowrap"><h2 class="card-title break-words"><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-1-0-0-2-0" href="/ru/post/haproxy-w3c-traceparent" class="" >HAProxy W3C traceparent</a></h2><p><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-1-0-0-3-0" href="/ru/post/haproxy-w3c-traceparent" class="break-all text-justify" >Расскажу как сгенерировать w3c traceparent (opentelemetry) на HAProxy</a></p></div></li><!/e0-0-0-0-0-0-0-6-1-0-0-1-1-0><!e0-0-0-0-0-0-0-6-1-0-0-1-2-0><li data-hk="0-0-0-0-0-0-0-6-1-0-0-1-2-0-0-0" data-index="2" class="card bg-base-300 text-base-content border-secondary-content/5
                shadow-base/20 m-3 flex w-full flex-col flex-nowrap items-center
                justify-start overflow-x-clip border shadow lg:w-[28rem] xl:w-[36rem]"><!--#--><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-2-0-0-1-0" href="/ru/post/ansible-on-windows" class="w-full select-none" ><figure data-hk="0-0-0-0-0-0-0-6-1-0-0-1-2-0-0-1-1"><img class="w-full" alt="image for ansible-on-windows" src="https://vchirikov.ru/assets/img/generated/ru/ansible-on-windows/88140518d572fd674b85a5396ecfc5795db5ff6e.sm.svg" width="568" height="320"></figure></a><!--/--><div class="card-body flex-nowrap"><h2 class="card-title break-words"><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-2-0-0-2-0" href="/ru/post/ansible-on-windows" class="" >Ansible под Windows</a></h2><p><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-2-0-0-3-0" href="/ru/post/ansible-on-windows" class="break-all text-justify" >Сегодня расскажу как запускать Ansible как control node под Windows и плагины для VS Code.</a></p></div></li><!/e0-0-0-0-0-0-0-6-1-0-0-1-2-0><!e0-0-0-0-0-0-0-6-1-0-0-1-3-0><li data-hk="0-0-0-0-0-0-0-6-1-0-0-1-3-0-0-0" data-index="3" class="card bg-base-300 text-base-content border-secondary-content/5
                shadow-base/20 m-3 flex w-full flex-col flex-nowrap items-center
                justify-start overflow-x-clip border shadow lg:w-[28rem] xl:w-[36rem]"><!--#--><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-3-0-0-1-0" href="/ru/post/yaml-to-json" class="w-full select-none" ><figure data-hk="0-0-0-0-0-0-0-6-1-0-0-1-3-0-0-1-1"><img class="w-full" alt="image for yaml-to-json" src="https://vchirikov.ru/assets/img/generated/ru/yaml-to-json/2ffca40c1211aa9aeb64c7a9708f00989014cd51.sm.svg" width="568" height="320"></figure></a><!--/--><div class="card-body flex-nowrap"><h2 class="card-title break-words"><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-3-0-0-2-0" href="/ru/post/yaml-to-json" class="" >YAML-to-JSON converter</a></h2><p><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-3-0-0-3-0" href="/ru/post/yaml-to-json" class="break-all text-justify" >К YAML-у надо привыкать. Для всех тех кто не помнит что означает `|-` или `>+4`
да и для себя  сделал страничку yaml2json playground с подсказками.</a></p></div></li><!/e0-0-0-0-0-0-0-6-1-0-0-1-3-0><!e0-0-0-0-0-0-0-6-1-0-0-1-4-0><li data-hk="0-0-0-0-0-0-0-6-1-0-0-1-4-0-0-0" data-index="4" class="card bg-base-300 text-base-content border-secondary-content/5
                shadow-base/20 m-3 flex w-full flex-col flex-nowrap items-center
                justify-start overflow-x-clip border shadow lg:w-[28rem] xl:w-[36rem]"><!--#--><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-4-0-0-1-0" href="/ru/post/new-blog" class="w-full select-none" ><figure data-hk="0-0-0-0-0-0-0-6-1-0-0-1-4-0-0-1-1"><img class="w-full" alt="image for new-blog" src="https://vchirikov.ru/assets/img/generated/ru/new-blog/4af4e6bac756737e1b2b9a29c0740643dc72f6aa.sm.svg" width="568" height="320"></figure></a><!--/--><div class="card-body flex-nowrap"><h2 class="card-title break-words"><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-4-0-0-2-0" href="/ru/post/new-blog" class="" >Новый блог</a></h2><p><a data-hk="0-0-0-0-0-0-0-6-1-0-0-1-4-0-0-3-0" href="/ru/post/new-blog" class="break-all text-justify" >Ну что ж, вот и пришла пора писать "hello world" в новом блоге. Это не первый мой блог, наверное как и у всех.
Здесь расскажу о том, как выбирал себе технологии и на каком jamstack решении остановился.</a></p></div></li><!/e0-0-0-0-0-0-0-6-1-0-0-1-4-0></ul><div data-hk="0-0-0-0-0-0-0-6-2" class="flex justify-between px-4"><!--#--><!--/--><!--#--><!--/--></div></div></div><footer class="footer border-base-content/5 bg-neutral text-neutral-content shadow-base-content/20 flex flex-row flex-nowrap items-center justify-between border-t-2 py-2 px-4 md:px-6 lg:py-1"><div class="flex select-none flex-col text-xs leading-3"><p class="opacity-60 transition-opacity hover:opacity-80">Copyright © <!--#-->2023<!--/--></p><p class="opacity-20 transition-opacity hover:opacity-80">Version: <!--#-->0.2.24<!--/--></p></div><div class="flex flex-row flex-nowrap items-center"><a href="https://t.me/+RROSXUhWMNc3NDgy" class="opacity-50 transition-opacity hover:opacity-80 focus:opacity-80"><svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12,0c-6.627,0 -12,5.373 -12,12c0,6.627 5.373,12 12,12c6.627,0 12,-5.373 12,-12c0,-6.627 -5.373,-12 -12,-12Zm0,2c5.514,0 10,4.486 10,10c0,5.514 -4.486,10 -10,10c-5.514,0 -10,-4.486 -10,-10c0,-5.514 4.486,-10 10,-10Zm2.692,14.889c0.161,0.115 0.368,0.143 0.553,0.073c0.185,-0.07 0.322,-0.228 0.362,-0.42c0.435,-2.042 1.489,-7.211 1.884,-9.068c0.03,-0.14 -0.019,-0.285 -0.129,-0.379c-0.11,-0.093 -0.263,-0.12 -0.399,-0.07c-2.096,0.776 -8.553,3.198 -11.192,4.175c-0.168,0.062 -0.277,0.223 -0.271,0.4c0.006,0.177 0.125,0.33 0.296,0.381c1.184,0.354 2.738,0.847 2.738,0.847c0,0 0.725,2.193 1.104,3.308c0.047,0.139 0.157,0.25 0.301,0.287c0.145,0.038 0.298,-0.001 0.406,-0.103c0.608,-0.574 1.548,-1.461 1.548,-1.461c0,0 1.786,1.309 2.799,2.03Zm-5.505,-4.338l0.84,2.769l0.186,-1.754c0,0 3.243,-2.925 5.092,-4.593c0.055,-0.048 0.062,-0.13 0.017,-0.188c-0.045,-0.057 -0.126,-0.071 -0.188,-0.032c-2.143,1.368 -5.947,3.798 -5.947,3.798Z"></path></svg></a><a href="https://github.com/vchirikov" class="opacity-50 transition-opacity hover:opacity-80 focus:opacity-80"><svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 6c-3.313 0-6 2.686-6 6 0 2.651 1.719 4.9 4.104 5.693.3.056.396-.13.396-.289v-1.117c-1.669.363-2.017-.707-2.017-.707-.272-.693-.666-.878-.666-.878-.544-.373.041-.365.041-.365.603.042.92.619.92.619.535.917 1.403.652 1.746.499.054-.388.209-.652.381-.802-1.333-.152-2.733-.667-2.733-2.965 0-.655.234-1.19.618-1.61-.062-.153-.268-.764.058-1.59 0 0 .504-.161 1.65.615.479-.133.992-.199 1.502-.202.51.002 1.023.069 1.503.202 1.146-.776 1.648-.615 1.648-.615.327.826.121 1.437.06 1.588.385.42.617.955.617 1.61 0 2.305-1.404 2.812-2.74 2.96.216.186.412.551.412 1.111v1.646c0 .16.096.347.4.288 2.383-.793 4.1-3.041 4.1-5.691 0-3.314-2.687-6-6-6z"></path></svg></a><a href="https://twitter.com/0x4351" class="opacity-50 transition-opacity hover:opacity-80 focus:opacity-80"><svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.5 8.778c-.441.196-.916.328-1.414.388.509-.305.898-.787 1.083-1.362-.476.282-1.003.487-1.564.597-.448-.479-1.089-.778-1.796-.778-1.59 0-2.758 1.483-2.399 3.023-2.045-.103-3.86-1.083-5.074-2.572-.645 1.106-.334 2.554.762 3.287-.403-.013-.782-.124-1.114-.308-.027 1.14.791 2.207 1.975 2.445-.346.094-.726.116-1.112.042.313.978 1.224 1.689 2.3 1.709-1.037.812-2.34 1.175-3.647 1.021 1.09.699 2.383 1.106 3.773 1.106 4.572 0 7.154-3.861 6.998-7.324.482-.346.899-.78 1.229-1.274z"></path></svg></a></div></footer></div><div class="drawer-side"><label for="drawer" class="drawer-overlay"></label><div class="bg-base-100 text-base-content w-5/6 max-w-2xl"><div class="flex h-full w-full flex-col flex-nowrap items-center justify-start p-3"><label for="search-modal" class="input-bordered input mb-4 h-9 w-full select-none leading-9 opacity-50 transition-opacity hover:opacity-80 focus:opacity-80 ">Поиск</label><div class="w-full  font-mono text-sm"><!--#-->Настройки<!--/-->:</div><div class="border-base-200/40 mt-2 flex w-full flex-row items-center justify-between border-y py-0"><div class="flex flex-row flex-nowrap items-center justify-start"><div data-hk="0-0-0-0-0-0-0-7-0" class="opacity-50 transition-opacity hover:opacity-80"><a data-hk="0-0-0-0-0-0-0-7-1-0" href="/en/" class="btn-xs btn m-1 active" data-prefetch="false" aria-current="page">EN</a></div><div data-hk="0-0-0-0-0-0-0-7-2" class="opacity-50 transition-opacity hover:opacity-80"><a data-hk="0-0-0-0-0-0-0-7-3-0" href="/ru/" class="btn-xs btn m-1 active" data-prefetch="false" aria-current="page">RU</a></div></div><!--#--><div data-hk="0-0-0-0-0-0-0-8-0" class="dropdown-end dropdown px-1"><label tabindex="0" class="link text-current opacity-40 hover:text-current hover:opacity-80"><svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11.334 14c.584 2.239 2.001 2.547 2.001 4.02 0 1.094-.896 1.98-2.001 1.98-1.104 0-2.015-.887-2.015-1.98 0-1.473 1.432-1.781 2.015-4.02zm12.666-2c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5.205-7.316l-2.641 2.316h2.791l1.085-.935c-.37-.498-.782-.96-1.235-1.381zm3.205 7.316c0-1.527-.354-2.969-.969-4.265l-4.486 3.902c-1.402 1.226-2.126.041-3.911 1.091-.237.141-.486.185-.71.158-.566-.07-1.018-.594-.941-1.216.024-.205.113-.419.267-.633 1.128-1.571.183-2.49 1.553-3.68l4.435-3.86c-1.527-.943-3.317-1.497-5.238-1.497-5.514 0-10 4.486-10 10s4.486 10 10 10 10-4.486 10-10z"></path></svg></label><div tabindex="0" class="dropdown-content rounded-box btn-group btn-group-vertical bg-base-100 mt-2 w-28 p-0 shadow"><button class="btn-ghost btn">Dark</button><button class="btn-active btn">Light</button><button class="btn-ghost btn">Berloga</button></div></div><!--/--></div></div></div></div></div><!/e0-0-0-0-0-0-0></div>
        <script type="module" src="https://vchirikov.ru/assets/entry-server-routing.d7fa78fe.js" defer></script>
        <link rel="modulepreload" href="https://vchirikov.ru/assets/src/pages/blog/index.page.cbd3406d.js" as="script" type="text/javascript" crossorigin>
        <link rel="modulepreload" href="https://vchirikov.ru/assets/chunk-4f12729c.js" as="script" type="text/javascript" crossorigin>
        <link rel="modulepreload" href="https://vchirikov.ru/assets/chunk-b9674078.js" as="script" type="text/javascript" crossorigin>
        <link rel="modulepreload" href="https://vchirikov.ru/assets/chunk-340acbf2.js" as="script" type="text/javascript" crossorigin>
        <link rel="modulepreload" href="https://vchirikov.ru/assets/chunk-704646a9.js" as="script" type="text/javascript" crossorigin>
        <link rel="modulepreload" href="https://vchirikov.ru/assets/chunk-afc3f033.js" as="script" type="text/javascript" crossorigin>
        <link rel="modulepreload" href="https://vchirikov.ru/assets/chunk-5e8bbab2.js" as="script" type="text/javascript" crossorigin>
        <link rel="modulepreload" href="https://vchirikov.ru/assets/src/pages/renderer/_default.page.client.4310c23a.js" as="script" type="text/javascript" crossorigin>
        <link rel="modulepreload" href="https://vchirikov.ru/assets/chunk-6b0f39a3.js" as="script" type="text/javascript" crossorigin>
        <script id="vite-plugin-ssr_pageContext" type="application/json">{"pageContext":{"_pageId":"/src/pages/blog/index","pageProps":{"locale":"ru","page":1,"posts":[{"matter":{"title":"vite-plugin-ssr + SolidJS","description":"Переписал свою хоумпагу с NextJS на vite-plugin-ssr и SolidJS, так ли он быстр на самом деле?","date":"2023-02-22","modified_date":"2023-02-22","image":{"background":"_content/img/banners/vps-solidjs.png","title":"vite-plugin-ssr + SolidJS","text":"Так ли быстр SolidJS?","theme":"light"}},"code":"/*@jsxRuntime automatic @jsxImportSource solid-jsx*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    a: \"a\",\n    span: \"span\",\n    p: \"p\",\n    code: \"code\",\n    h3: \"h3\",\n    img: \"img\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h1, {\n      id: \"vite-plugin-ssr--solidjs\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#vite-plugin-ssr--solidjs\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"vite-plugin-ssr + SolidJS\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Ну вот наконец-то я переписал и выложил свой блог с NextJS на что-то побыстрее.\\nИтак напомню началось все с того, что на совсем компиляцию сайтика из 8 постов (6 mdx + 2 md)\\nNextJS тратил невообразимое время, ну и раз уж мне javascript-backend неинтересен (SSR) то я искал альтернативы\\nс более быстрой компиляцией и возможностью использовать MDX, потому что компоненты в markdown вставлять это\\n\", _jsx(_components.a, {\n        href: \"https://vchirikov.ru/ru/post/yaml-to-json/\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"довольно круто\"\n      }), \". Так вот смотрел чуть Astro, e11ty, solid start,\\nsveltekit. Svelte Kit даже пробовал, но там были такие проблемы с \", _jsx(_components.a, {\n        href: \"https://github.com/pngwn/MDsveX\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"MDsveX\"\n      }), \",\\nкоторые решить мне не удалось и я забил на svelte, к тому же туда никак не залезали декораторы в typescript блоки.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Ладно, вобщем подробнее вроде \", _jsx(_components.a, {\n        href: \"https://t.me/+RROSXUhWMNc3NDgy\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"в телеге закидывал\"\n      }), \". Вобщем решил попробовать\\nпосле SvelteKit-а \", _jsx(_components.a, {\n        href: \"https://vite-plugin-ssr.com\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"vite-plugin-ssr\"\n      }), \" и не прогадал! Очень отзывчивый автор, отличный\\nфреймворк для сбора своего фрейморка из своих хотелок, есть конечно пара не гибких моментов с роутером, но автор обещал\\nчто в v1 все будет возможно.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"По solidjs толком мало что могу сказать, переход с React-а был простым в целом,\\nреактивность работает, на какие-то особые косяки не натыкался все просто работало. Тяжело запускался mdx, т.к.\\njsx рантайм отличается от реакта и найти что-то рабочее и понять как подпихнуть было. Вобщем поделку на которой\\nпроверял миграцию выложил и автор \", _jsx(_components.code, {\n        children: \"vite-plugin-ssr\"\n      }), \" даже ее добавил в примеры \", _jsx(_components.code, {\n        children: \"(●'◡'●)\"\n      }), \". Всякие генерации\\nкартинок opengraph в билдтайме с hot reload и прочие плюшки\\n\", _jsx(_components.a, {\n        href: \"https://github.com/vchirikov/vite-plugin-ssr-solidjs-blog-example\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"подсмотреть можно тут.\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"А мы перейдем к замерам худших результатов из нескольких прогонов:\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"время-билда\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#время-билда\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"Время билда\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/md/nextjs-vps-build-time-5f26bf0cc9.png\",\n        alt: \"build time\"\n      })\n    }), \"\\n\", _jsxs(\"div\", {\n      class: \"carousel w-full\",\n      children: [_jsxs(\"div\", {\n        id: \"slide1\",\n        class: \"carousel-item relative w-full flex flex-col\",\n        children: [_jsx(\"div\", {\n          class: \"text-2xl font-semibold\",\n          children: \"NextJS desktop\"\n        }), _jsx(\"div\", {\n          children: _jsx(_components.img, {\n            src: \"/assets/md/nextjs_desktop-02d64bfb2d.png\",\n            alt: \"nextjs desktop\"\n          })\n        }), _jsxs(\"div\", {\n          class: \"absolute flex justify-between transform -translate-y-1/2 left-5 right-5 top-1/2\",\n          children: [_jsx(\"a\", {\n            href: \"#slide4\",\n            class: \"btn btn-circle\",\n            children: \"❮\"\n          }), _jsx(\"a\", {\n            href: \"#slide2\",\n            class: \"btn btn-circle\",\n            children: \"❯\"\n          })]\n        })]\n      }), _jsxs(\"div\", {\n        id: \"slide2\",\n        class: \"carousel-item relative w-full flex flex-col\",\n        children: [_jsx(\"div\", {\n          class: \"text-2xl font-semibold\",\n          children: \"NextJS mobile\"\n        }), _jsx(\"div\", {\n          children: _jsx(_components.img, {\n            src: \"/assets/md/nextjs_mobile-96dd36275e.png\",\n            alt: \"nextjs mobile\"\n          })\n        }), _jsxs(\"div\", {\n          class: \"absolute flex justify-between transform -translate-y-1/2 left-5 right-5 top-1/2\",\n          children: [_jsx(\"a\", {\n            href: \"#slide1\",\n            class: \"btn btn-circle\",\n            children: \"❮\"\n          }), _jsx(\"a\", {\n            href: \"#slide3\",\n            class: \"btn btn-circle\",\n            children: \"❯\"\n          })]\n        })]\n      }), _jsxs(\"div\", {\n        id: \"slide3\",\n        class: \"carousel-item relative w-full flex flex-col\",\n        children: [_jsx(\"div\", {\n          class: \"text-2xl font-semibold\",\n          children: \"vite-plugin-ssr + SolidJS desktop\"\n        }), _jsx(\"div\", {\n          children: _jsx(_components.img, {\n            src: \"/assets/md/solidjs_desktop-0f88823288.png\",\n            alt: \"solidjs vsp desktop\"\n          })\n        }), _jsxs(\"div\", {\n          class: \"absolute flex justify-between transform -translate-y-1/2 left-5 right-5 top-1/2\",\n          children: [_jsx(\"a\", {\n            href: \"#slide2\",\n            class: \"btn btn-circle\",\n            children: \"❮\"\n          }), _jsx(\"a\", {\n            href: \"#slide4\",\n            class: \"btn btn-circle\",\n            children: \"❯\"\n          })]\n        })]\n      }), _jsxs(\"div\", {\n        id: \"slide4\",\n        class: \"carousel-item relative w-full flex flex-col\",\n        children: [_jsx(\"div\", {\n          class: \"text-2xl font-semibold\",\n          children: \"vite-plugin-ssr + SolidJS mobile\"\n        }), _jsx(\"div\", {\n          children: _jsx(_components.img, {\n            src: \"/assets/md/solidjs_mobile-6a4bd739d4.png\",\n            alt: \"solidjs vsp mobile\"\n          })\n        }), _jsxs(\"div\", {\n          class: \"absolute flex justify-between transform -translate-y-1/2 left-5 right-5 top-1/2\",\n          children: [_jsx(\"a\", {\n            href: \"#slide3\",\n            class: \"btn btn-circle\",\n            children: \"❮\"\n          }), _jsx(\"a\", {\n            href: \"#slide1\",\n            class: \"btn btn-circle\",\n            children: \"❯\"\n          })]\n        })]\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","filepath":"/_content/ru/vite-plugin-ssr-solidjs.mdx","locale":"ru","slug":"vite-plugin-ssr-solidjs","imageHash":"d6a9e60b3e5c36a74ce4c2b62fbf6c72c0cc5d43"},{"matter":{"title":"HAProxy W3C traceparent","description":"Расскажу как сгенерировать w3c traceparent (opentelemetry) на HAProxy","date":"2022-11-29","modified_date":"2022-11-29","image":{"background":"_content/img/banners/haproxy.png","title":"HAProxy + W3C traceparent","text":"aka opentelemetry request id","theme":"light"}},"code":"/*@jsxRuntime automatic @jsxImportSource solid-jsx*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    a: \"a\",\n    span: \"span\",\n    p: \"p\",\n    code: \"code\",\n    br: \"br\",\n    h2: \"h2\",\n    pre: \"pre\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h1, {\n      id: \"haproxy--w3c-traceparent\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#haproxy--w3c-traceparent\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"HAProxy + W3C traceparent\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Участники Opentelemetry сделали W3C стандарт про \", _jsx(_components.a, {\n        href: \"https://w3c.github.io/trace-context/#traceparent-header-field-values\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"traceparent\"\n      }), \"\\nпока он в статусе черновика (draft), но больших изменений думаю уже не будет.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"У HAProxy есть настройки связанные с request-id, можно указывать формат \", _jsx(_components.code, {\n        children: \"unique-id-format\"\n      }), \" / \", _jsx(_components.code, {\n        children: \"unique-id-header\"\n      }), \", однако\\nформата подходящего из коробки нет и придется читать стандарт.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Для тех кому лень смотреть \", _jsx(_components.code, {\n        children: \"traceparent\"\n      }), \" выглядит так: \", _jsx(_components.code, {\n        children: \"00-0af7651916cd43dd8448eb211c80319c-00f067aa0ba902b7-01\"\n      }), \" и имеет формат\", _jsx(_components.br, {}), \"\\n\", _jsx(_components.code, {\n        children: \"${version}-${trace-id}-${parent-id}-${trace-flags}\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Версия на данный момент только одна - \", _jsx(_components.code, {\n        children: \"00\"\n      }), \". \", _jsx(_components.code, {\n        children: \"trace-flag\"\n      }), \" - это флаги и пока их только 2 первый (least significant bit, right-most)\\nотвечает за семплинг, второй бит говорит о случайности байт в \", _jsx(_components.code, {\n        children: \"trace-id\"\n      }), \".\", _jsx(_components.br, {}), \"\\n\", \"Решение по семплингу будет принимать не HAProxy, так что просто захардкодим флаги в \", _jsx(_components.code, {\n        children: \"03\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Парсить входящий traceparent я не буду (добавить несложно, но я специально делаю свой traceparent, не учитывая входящий),\\nпоэтому задача сводится к сгенерировать header формата: \", _jsx(_components.code, {\n        children: \"00-${rand_32_hex}c-${rand_16_hex}-03\"\n      }), \" на HAProxy.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"В HAProxy для генерации случайных строк можно использовать \", _jsx(_components.code, {\n        children: \"uuid(4)\"\n      }), \" \", _jsx(_components.a, {\n        href: \"https://www.rfc-editor.org/rfc/rfc4122.html\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"RFC 4122\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Поехали..\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"делаем-стенд-и-настраиваем-haproxy\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#делаем-стенд-и-настраиваем-haproxy\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"Делаем стенд и настраиваем HAProxy\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Создадим конфиг для helm чарта\\n\", _jsx(_components.a, {\n        href: \"https://github.com/haproxy-ingress/charts/blob/master/haproxy-ingress/values.yaml\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"haproxy-ingress\"\n      }), \",\\nобзовем файлик \", _jsx(_components.code, {\n        children: \"haproxy-traceparent.yaml\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      class: \"language-yaml\",\n      children: _jsxs(_components.code, {\n        class: \"language-yaml code-highlight\",\n        children: [_jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"1\",\n          children: [_jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"serviceAccount\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"2\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"create\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token boolean important\",\n            children: \"false\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"3\",\n          children: [_jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"controller\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"4\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"ingressClass\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \" haproxy\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"5\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"ingressClassResource\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"6\",\n          children: [\"    \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"enabled\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token boolean important\",\n            children: \"true\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"7\",\n          children: [\"    \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"default\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token boolean important\",\n            children: \"false\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"8\",\n          children: [\"    \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"controllerClass\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"haproxy\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"9\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# [Configuration keys](https://haproxy-ingress.github.io/docs/configuration/keys/#keys)\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"10\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"config\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"11\",\n          children: [\"    \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"config-frontend\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"|\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"12\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# parse UUID [RFC 4122](https://www.rfc-editor.org/rfc/rfc4122.html)\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"13\",\n          children: [\"      http\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"request set\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"var(txn.trace_id) uuid(4)\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"regsub(\\\\\\\"^(\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"^\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"8\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \")\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"(\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"^\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"4\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \")\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"(\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"^\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"4\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \")\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"(\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"^\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"4\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \")\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"(\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"^\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"12\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \")$\\\\\\\"\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\\\\\\"\\\\1\\\\2\\\\3\\\\4\\\\5\\\\\\\")\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"14\",\n          children: [\"      http\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"request set\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"var(txn.parent_id) uuid(4)\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"regsub(\\\\\\\"^(\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"^\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"8\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \")\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"(\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"^\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"4\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \")\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"(\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"^\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"4\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \")\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"(\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"^\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"4\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \")\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"(\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"^\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"12\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \")$\\\\\\\"\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\\\\\\"\\\\1\\\\2\\\\3\\\\\\\")\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"15\",\n          children: [\"      unique\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"id\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"format 00\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"%\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"var(txn.trace_id)\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"%\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"var(txn.parent_id)\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            class: \"token number\",\n            children: \"03\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"16\",\n          children: [\"      unique\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"id\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"header traceparent\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"17\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# return traceparent to the client\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"18\",\n          children: [\"      http\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"after\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"response set\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \"header traceparent %ID\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Устанавливаем HAProxy:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      class: \"language-bash\",\n      children: _jsxs(_components.code, {\n        class: \"language-bash code-highlight\",\n        children: [_jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"1\",\n          children: [\"helm repo \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"add\"\n          }), \" haproxy-ingress https://haproxy-ingress.github.io/charts\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"2\",\n          children: [\"helm upgrade \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-i\"\n          }), \" haproxy haproxy-ingress/haproxy-ingress \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-f\"\n          }), \" haproxy-traceparent.yaml\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Для проверки поставим \", _jsx(_components.code, {\n        children: \"podinfo\"\n      }), \",  \", _jsx(_components.code, {\n        children: \"podinfo-local.yaml:\"\n      })]\n    }), \"\\n\", _jsx(_components.pre, {\n      class: \"language-yaml\",\n      children: _jsxs(_components.code, {\n        class: \"language-yaml code-highlight\",\n        children: [_jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"1\",\n          children: [_jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"ingress\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"2\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"enabled\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token boolean important\",\n            children: \"true\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"3\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"className\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"haproxy\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"4\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"hosts\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"5\",\n          children: [\"    \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"host\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"6\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"paths\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"7\",\n          children: [\"        \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"path\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \" /\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"8\",\n          children: [\"          \", _jsx(_components.span, {\n            class: \"token key atrule\",\n            children: \"pathType\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \":\"\n          }), \" ImplementationSpecific\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Устанавливаем:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      class: \"language-bash\",\n      children: _jsxs(_components.code, {\n        class: \"language-bash code-highlight\",\n        children: [_jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"1\",\n          children: [\"helm repo \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"add\"\n          }), \" podinfo https://stefanprodan.github.io/podinfo\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"2\",\n          children: [\"helm upgrade \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-i\"\n          }), \" podinfo podinfo/podinfo \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-f\"\n          }), \" podinfo-local.yaml\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Пошли тестить:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      class: \"language-bash\",\n      children: _jsxs(_components.code, {\n        class: \"language-bash code-highlight\",\n        children: [_jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"1\",\n          children: [_jsx(_components.span, {\n            class: \"token function\",\n            children: \"curl\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-i\"\n          }), \" http://localhost:80/headers\\n\"]\n        }), _jsx(_components.span, {\n          class: \"code-line line-number\",\n          line: \"2\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"3\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \" HTTP/1.1 \", _jsx(_components.span, {\n            class: \"token number\",\n            children: \"200\"\n          }), \" OK\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"4\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \" content-type: application/json\", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \";\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token assign-left variable\",\n            children: \"charset\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \"=\"\n          }), \"utf-8\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"5\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \" x-content-type-options: nosniff\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"6\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \" content-length: \", _jsx(_components.span, {\n            class: \"token number\",\n            children: \"358\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"7\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \" traceparent: 00-5e8097d048e64fd4a4fc1861d9032e17-6ee9491181244f5b-03\\n\"]\n        }), _jsx(_components.span, {\n          class: \"code-line line-number\",\n          line: \"8\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"9\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"10\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \"   \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"..\"\n          }), \".\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"11\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \"   \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"Traceparent\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token builtin class-name\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"12\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \"     \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"00-5e8097d048e64fd4a4fc1861d9032e17-6ee9491181244f5b-03\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"13\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \"   \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), \",\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"14\",\n          children: [_jsx(_components.span, {\n            class: \"token operator\",\n            children: \">\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          class: \"code-line line-number\",\n          line: \"15\",\n          children: \"\\n\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Готово.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","filepath":"/_content/ru/haproxy-w3c-traceparent.mdx","locale":"ru","slug":"haproxy-w3c-traceparent","imageHash":"1e860852ca46a9ac4e53686be3b8ed56cbbe5981"},{"matter":{"title":"Ansible под Windows","description":"Сегодня расскажу как запускать Ansible как control node под Windows и плагины для VS Code.","date":"2022-11-24","modified_date":"2022-12-22","image":{"background":"_content/img/banners/ansible.png","title":"Ansible под Windows","text":"+ VS Code plugins","theme":"light"}},"code":"/*@jsxRuntime automatic @jsxImportSource solid-jsx*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    a: \"a\",\n    span: \"span\",\n    p: \"p\",\n    strong: \"strong\",\n    code: \"code\",\n    pre: \"pre\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    br: \"br\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h1, {\n      id: \"ansible\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#ansible\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"Ansible\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://www.redhat.com/en/technologies/management/ansible\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"Ansible\"\n      }), \" - платформа автоматизации, построенная на\\nимперативном подходе. В отличии от Terraform с его декларативным подходом тут мы не описываем состояние которого хотим\\nдостичь, а описываем сам способ достижения этого состояния, при этом Ansible нам дает идемпотентность (простыми словами\\nмногократный запуск не будет приводить к изменению конечного состояния, например запуская 5 раз playbook (набор действий)\\nустановки nginx мы не получим 5 переустановок пакета, а получим 1 установку и 4 проврки что он уже стоит и действий не требуется).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Короче введение простыми словами я дал, ликбезить что и как с Ansible можно много и долго,\\nно не думаю, что сделаю это лучше других так что в конце может накидаю ссылок да и сами поискать можете, перейдем\\nк интересному моменту: несмотря на то, что Ansible написан на Python-е он \", _jsx(_components.strong, {\n        children: \"не поддерживает Windows как control node\"\n      }), \", т.е.\\nмашина с которой запускается playbook должна быть *nix like. Что ж, на такие случаи в Windows 10/11 и есть WSL, его\\nи используем для запуска Ansible под Windows (это не единственный способ, вполне комфортно \", _jsx(_components.strong, {\n        children: \"можно использовать devContainer-ы\"\n      }), \").\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"У меня WSL 2 c Ubuntu, \", _jsx(_components.code, {\n        children: \"ubuntu config --default-user root\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      class: \"language-bash\",\n      children: _jsxs(_components.code, {\n        class: \"language-bash code-highlight\",\n        children: [_jsx(_components.span, {\n          class: \"code-line line-number\",\n          line: \"1\",\n          children: \"wsl\\n\"\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"2\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# ставим последний python, в убунте какой-то древний\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          class: \"code-line line-number\",\n          line: \"3\",\n          children: \"add-apt-repository ppa:deadsnakes/ppa\\n\"\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"4\",\n          children: [_jsx(_components.span, {\n            class: \"token function\",\n            children: \"apt-get\"\n          }), \" update\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"5\",\n          children: [_jsx(_components.span, {\n            class: \"token function\",\n            children: \"apt-get\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"install\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-y\"\n          }), \" python3.11 libffi-dev libssl-dev \\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"6\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# я не шибко в теме экосистемы python-а и всяких venv-ов у них\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"7\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# просто хотим python-is-python3 ¯\\\\(°_o)/¯\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"8\",\n          children: [_jsx(_components.span, {\n            class: \"token function\",\n            children: \"ln\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-s\"\n          }), \" /usr/bin/python3.11 /usr/bin/python\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"9\",\n          children: [\"update-alternatives \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"--install\"\n          }), \" /usr/bin/python3 python3 /usr/bin/python3.11 \", _jsx(_components.span, {\n            class: \"token number\",\n            children: \"1\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"10\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# древний python из репов убунты не нужен, удалим\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"11\",\n          children: [_jsx(_components.span, {\n            class: \"token function\",\n            children: \"apt\"\n          }), \" remove \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"--purge\"\n          }), \" python3-apt \", _jsx(_components.span, {\n            class: \"token operator\",\n            children: \"&&\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"apt\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"install\"\n          }), \" python3-apt\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"12\",\n          children: [_jsx(_components.span, {\n            class: \"token function\",\n            children: \"apt\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"install\"\n          }), \" python3.11-distutils\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"13\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# проверяем\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"14\",\n          children: [\"update-alternatives \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"--config\"\n          }), \" python3\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"15\",\n          children: [\"python \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"--version\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"16\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# ставим pip\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"17\",\n          children: [\"python \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-m\"\n          }), \" ensurepip \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"--upgrade\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"18\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# Если ensurepip ругается ^^^, то:\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"19\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"20\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# python get-pip.py\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"21\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# проверяем:\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"22\",\n          children: [\"python \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-m\"\n          }), \" pip \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-V\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"23\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# upgrade-им pip\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"24\",\n          children: [\"python \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-m\"\n          }), \" pip \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"install\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"--upgrade\"\n          }), \" pip\\n\"]\n        }), _jsx(_components.span, {\n          class: \"code-line line-number\",\n          line: \"25\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"26\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"## добавим pip scripts в PATH (если wsl из под root)\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"27\",\n          children: [_jsx(_components.span, {\n            class: \"token builtin class-name\",\n            children: \"echo\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"'PATH=$PATH:/root/.local/bin/'\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token operator\",\n            children: \">>\"\n          }), \" ~/.bashrc\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"28\",\n          children: [_jsx(_components.span, {\n            class: \"token builtin class-name\",\n            children: \".\"\n          }), \" ~/.bashrc\\n\"]\n        }), _jsx(_components.span, {\n          class: \"code-line line-number\",\n          line: \"29\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"30\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# проверим есть ли venv, лучше пробовать в /tmp/ или гит репозитории, т.к. нагенерит мусора\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"31\",\n          children: [\"python \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-m\"\n          }), \" venv \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"env\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"32\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# если видим что-то типа:\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"33\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# Error: Command ... returned non-zero exit status 1\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"34\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# доставляем venv\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"35\",\n          children: [_jsx(_components.span, {\n            class: \"token function\",\n            children: \"apt\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"install\"\n          }), \" python3.11-venv\\n\"]\n        }), _jsx(_components.span, {\n          class: \"code-line line-number\",\n          line: \"36\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"37\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# ну и ставим сам ansible, если хотим менеджить еще и Windows машины то pywinrm так же необходим\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"38\",\n          children: [\"python \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-m\"\n          }), \" pip \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"install\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"--user\"\n          }), \" ansible pywinrm\\n\"]\n        }), _jsx(_components.span, {\n          class: \"code-line line-number\",\n          line: \"39\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"40\",\n          children: [_jsx(_components.span, {\n            class: \"token comment\",\n            children: \"# Прекрасный linter работающий с vscode плагином от redhat\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"41\",\n          children: [\"python \", _jsx(_components.span, {\n            class: \"token parameter variable\",\n            children: \"-m\"\n          }), \" pip \", _jsx(_components.span, {\n            class: \"token function\",\n            children: \"install\"\n          }), \" ansible-lint\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Насчет IDE - основной мой редактор/\\\"IDE\\\" это vs code ну и тут много хорошего есть из плагинов, приведу свой список рекомендаций\\nв ansible репо (\", _jsx(_components.code, {\n        children: \".vscode/extensions.json\"\n      }), \"):\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      class: \"language-json\",\n      children: _jsxs(_components.code, {\n        class: \"language-json code-highlight\",\n        children: [_jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"1\",\n          children: [_jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"2\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"recommendations\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"3\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"redhat.ansible\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"4\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"mattiasbaake.vscode-snippets-for-ansible\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"5\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"6\",\n          children: [_jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"первый офиц. плагин от redhat, довольно годный несмотря на проблемки с WSL (ниже раскажу), второй сгенеренные снипеты с\\n\", _jsx(_components.a, {\n        href: \"https://docs.ansible.com/ansible/latest/collections/\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"документации Ansible collections\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Ну что ж, запустим \", _jsx(_components.code, {\n        children: \"code .\"\n      }), \" в WSL, это поставит vs code server, и далее мы будем работать из под виндового окна с этим\\nсервером под WSL, все будет работать кроме \", _jsx(_components.code, {\n        children: \"ansible-lint\"\n      }), \", потому что плагин vs code путает пути до projectDir.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Но это легко пофиксить создав \", _jsx(_components.code, {\n        children: \".config/ansible-lint.yml\"\n      }), \" в репо, чтобы ansible-lint правильно находил \", _jsx(_components.code, {\n        children: \"--project-dir\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Далее можно кодить и запускать плейбуки, но писать \", _jsx(_components.code, {\n        children: \"ansible-playbook -i inventory.yaml playbook.yaml\"\n      }), \" довольно утомительно,\\nособенно если плейбуков много, давайте еще добавим build task на текущий файл, открытый в VS code, создаем файлик\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \".vscode/tasks.json\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      class: \"language-json\",\n      children: _jsxs(_components.code, {\n        class: \"language-json code-highlight\",\n        children: [_jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"1\",\n          children: [_jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"2\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"version\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"2.0.0\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"3\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"tasks\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"4\",\n          children: [\"    \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"5\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"label\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"Run ansible-playbook on current file\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"6\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"command\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"ansible-playbook -i inventory.yaml ${file} --diff\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"7\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"type\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"shell\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"8\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"args\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"9\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"problemMatcher\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"10\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"presentation\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"11\",\n          children: [\"        \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"reveal\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"always\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"12\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"13\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"group\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"14\",\n          children: [\"        \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"isDefault\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token boolean\",\n            children: \"true\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"15\",\n          children: [\"        \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"kind\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"build\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"16\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"17\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"options\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"18\",\n          children: [\"        \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"env\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"19\",\n          children: [\"          \", _jsx(_components.span, {\n            class: \"token property\",\n            children: \"\\\"ANSIBLE_DEBUG\\\"\"\n          }), _jsx(_components.span, {\n            class: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            class: \"token string\",\n            children: \"\\\"0\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"20\",\n          children: [\"        \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"21\",\n          children: [\"      \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"22\",\n          children: [\"    \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"23\",\n          children: [\"  \", _jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          class: \"code-line line-number\",\n          line: \"24\",\n          children: [_jsx(_components.span, {\n            class: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Вот собственно мы и готовы запускать плейбуки через обычный билд таск\\n(\", _jsx(_components.code, {\n        children: \"ctrl+shift+b\"\n      }), \" в vscode вроде дефолт, я себе перенастроил на \", _jsx(_components.code, {\n        children: \"alt+shift+d\"\n      }), \" можете в dotfiles подсмотреть).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Если что-то не работает выставляем \", _jsx(_components.code, {\n        children: \"ANSIBLE_DEBUG\"\n      }), \" в 1 и смотрим более полный лог ошибок.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"В следующих сериях может расскажу про настройку точечного обхода блокировок на роутере через Ansible или IPSec\\nили про inject dotnet-а в игры, пока не решил, в любом случае до встречи \", _jsx(_components.code, {\n        children: \":-*\"\n      })]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"docs\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#docs\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"Docs\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Ansible Documentation - \", _jsx(_components.a, {\n          href: \"https://docs.ansible.com/ansible/latest/getting_started/index.html\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Getting started with Ansible\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Неплохая вводная статья на живом примере использования -\", _jsx(_components.br, {}), \"\\n\", _jsx(_components.a, {\n          href: \"https://dev.to/tangramvision/exploring-ansible-via-setting-up-a-wireguard-vpn-3389\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Exploring Ansible via Setting Up a WireGuard VPN\"\n        })]\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","filepath":"/_content/ru/ansible-on-windows.mdx","locale":"ru","slug":"ansible-on-windows","imageHash":"88140518d572fd674b85a5396ecfc5795db5ff6e"},{"matter":{"title":"YAML-to-JSON converter","description":"К YAML-у надо привыкать. Для всех тех кто не помнит что означает `|-` или `>+4`\nда и для себя  сделал страничку yaml2json playground с подсказками.","date":"2022-11-24","modified_date":"2022-11-24","image":{"background":"_content/img/banners/goose.jpg","title":"YAML-to-JSON","text":"Место где можно сконвертить YAML в JSON и попрактиковаться.","theme":"light"}},"code":"/*@jsxRuntime automatic @jsxImportSource solid-jsx*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    a: \"a\",\n    span: \"span\",\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    code: \"code\",\n    h2: \"h2\"\n  }, _provideComponents(), props.components), {YamlPlayground} = _components;\n  if (!YamlPlayground) _missingMdxReference(\"YamlPlayground\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h1, {\n      id: \"yaml\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#yaml\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"YAML\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"В YAML есть два формата строк:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \">\"\n        }), \" - \", _jsx(_components.a, {\n          href: \"https://yaml.org/spec/1.2.2/#812-literal-style\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Folded style\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"|\"\n        }), \" - \", _jsx(_components.a, {\n          href: \"https://yaml.org/spec/1.2.2/#812-literal-style\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Literal style\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"На самом деле пока не привыкнешь не привыкнешь всегда будешь делать так - \", _jsx(_components.code, {\n        children: \"(╯°□°)╯︵ ┻━┻\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Поэтому для себя и для других оставлю здесь playground где наглядно показано как преобразуется YAML в JSON.\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"playground\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#playground\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"Playground\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"По стандарту должен быть пробел между \", _jsx(_components.code, {\n        children: \": \u003cblock-style>\"\n      }), \" однако парсеры разные и тот же k8s жрет и без пробела\\nпрямо \", _jsx(_components.code, {\n        children: \":|\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Тут я хотел попрактиковаться в webpack code splitting-е + mdx и затащил \", _jsx(_components.a, {\n        href: \"https://www.npmjs.com/package/yaml\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"yaml\"\n      }), \" парсер,\\nза кривое отображение YAML-а ругайте \", _jsx(_components.a, {\n        href: \"https://www.npmjs.com/package/prismjs\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"prismjs\"\n      }), \".\"]\n    }), \"\\n\", _jsx(YamlPlayground, {})]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","filepath":"/_content/ru/yaml-to-json.mdx","locale":"ru","slug":"yaml-to-json","imageHash":"2ffca40c1211aa9aeb64c7a9708f00989014cd51"},{"matter":{"title":"Новый блог","description":"Ну что ж, вот и пришла пора писать \"hello world\" в новом блоге. Это не первый мой блог, наверное как и у всех.\nЗдесь расскажу о том, как выбирал себе технологии и на каком jamstack решении остановился.","date":"2022-09-01","modified_date":"2022-11-20","image":{"title":"Новый блог","theme":"light"}},"code":"/*@jsxRuntime automatic @jsxImportSource solid-jsx*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    a: \"a\",\n    span: \"span\",\n    h2: \"h2\",\n    p: \"p\",\n    br: \"br\",\n    code: \"code\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h1, {\n      id: \"новый-блог\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#новый-блог\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"Новый блог\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"intro\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#intro\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"Intro\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Ну что ж, вот и пришла пора писать \\\"hello world\\\" в новом блоге. Это не первый мой блог, наверное как и у всех.\\nПервым был бложик в старые добрые времена, еще на blogspot-е, впрочем ничего толкового я тогда написать еще не мог :)\", _jsx(_components.br, {}), \"\\n\", \"Затем были попытки на jekyll, hugo на борьбу с которыми уходил весь запал и желание писать ушло. Во времена выхода\\ndotnet 3.0 и превьюх 3.1 для интереса попробовал сделать блог на blazor, с рендером md на клиенте - получилось неплохо,\\nmsbuild-ный таск генерил при билде список постов и инфу по ним, на клиенте его получал блейзор, отрисовывал и вобщем-то\\nработало все сносно, однако тогда еще не было тримминга сборок и скачиваемый размер был большим, в итоге с мобилок\\nпервый запуск был крайне долгим. Дальше мне довелось поработать с WASM (и с Blazor в том числе) чуть поглубже и мне\\nне понравилось. Основные претензии - работа с памятью и скудность API по сравнению с JS. При работе с WASM нужно помнить,\\nчто выделяемая память не шринкается, сделав \", _jsx(_components.code, {\n        children: \"free()\"\n      }), \" никто в браузер больше эту память не отдаст, она останется выделенной\\nпод WASM даже если вы ее не используете. Связанный с этим косяк - профайлинг утечек та еще боль, выделенные объекты в\\nWASM в профайлере не увидишь, еще неприятнее искать ссылки на DOM из внутряшек Blazor-а. Ну а вторая претензия и так\\nдолжна быть понятна, пишешь под WASM на одном языке, потом приходится переключаться на JS, ибо нет никакой возможности\\nзаюзать WebWorker API или AudioContext-ы например. В Rust-е вроде как получше с биндингами, но то же без interop-а никуда.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Ладно, что-то меня понесло, но я хотел рассказать какой путь был пройден чтобы прийти к тому, что без JavaScript никуда\\n(хотя скорее связки TypeScript -> JavaScript). Итак мы дошли до того что хорошо бы писать блог на JavaScript, куда дальше?\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"react-vs-vue-vs-angular\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#react-vs-vue-vs-angular\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"React vs Vue vs Angular\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Во времена Backbone и первых Angular-ов я пробовал проникнуться \", _jsx(_components.code, {\n        children: \"ng*\"\n      }), \"-ными атрибутами, но мне показалось это жуткой\\nболью иметь в атрибутах по-сути свой язык. Хотя последний Angular был мне рекомендован коллегой, как наиболее похожий\\nна что-то энтерпрайзное (\", _jsx(_components.code, {\n        children: \"IoC\"\n      }), \", \", _jsx(_components.code, {\n        children: \"TypeScript only\"\n      }), \" etc) я так и не могу смириться с этим обилием управления через атрибуты.\\nВычеркиваем Angular.\\nНастало время гуглить и сравнивать \", _jsx(_components.code, {\n        children: \"Vue\"\n      }), \" vs \", _jsx(_components.code, {\n        children: \"React\"\n      }), \", в целом картина понятна - рынок юзает React,\\nопыт с ним будет наиболее релеватный.\\nВ процессе гугления Vue мне показался менее стройным, да и к тому же попытки поюзать React у меня уже были. Спойлер:\\nне шибко приятные. React это не фреймворк, а библиотека, для полноценного сайта ему необходимо выбрать еще 100500 библиотек,\\nтипа Redux vs MobX (хранение состояния), роутеров, систем стилей, webpack vs vite (систем билда) etc.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Все это безумно утомляет и заставляет разбираться в кучах тонкостей того или иного выбора. Чтобы уменьшить боль от реакта\\nлюди сделали еще большее количество framework-ов на его основе, в том числе и сами авторы React-а тоже. Одни из основных\\nэто \", _jsx(_components.code, {\n        children: \"create-react-app\"\n      }), \", \", _jsx(_components.code, {\n        children: \"Gatsby\"\n      }), \", \", _jsx(_components.code, {\n        children: \"NextJS\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Что выбрать?\"\n      })\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"gatsby-vs-nextjs-vs-create-react-app-vs-astro\",\n      children: [_jsx(_components.a, {\n        class: \"anchor\",\n        \"aria-hidden\": true,\n        tabindex: \"-1\",\n        href: \"#gatsby-vs-nextjs-vs-create-react-app-vs-astro\",\n        children: _jsx(_components.span, {\n          class: \"icon icon-link\"\n        })\n      }), \"Gatsby vs NextJS vs create-react-app vs Astro\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Ранее у меня был pet проект с \", _jsx(_components.code, {\n        children: \"create-react-app\"\n      }), \" и мне не понравилось то, что чтобы добавить что-то в вебпак конфиг\\nнужно было пройти 9 кругов ада. Из коробки было этого не сделать и было толи 2 толи 3 старых пакета позволяющих\\nмодифицировать сгенеренный конфиг, один из них даже работал, но при миграции на новую мажорную версию все это отваливалось.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"В общем с \", _jsx(_components.code, {\n        children: \"create-react-app\"\n      }), \" знакомство не задалось. Перейдем к \", _jsx(_components.code, {\n        children: \"Gatsby\"\n      }), \", начало было многообещающим, мне понравилась\\nидея стоящая за graphql подходом, генерация typescript типов к frontmatter-у например, короче годно. Проблемы правда\\nтоже были, например стартовые темплейты для документации, они просто не работали. Философия \", _jsx(_components.code, {\n        children: \"Gatsby\"\n      }), \" - для всего берешь\\nплагин, и вот их качество прямо скажем не очень, на момент когда я его взял уже вышел React 17 как пару месяцев, а MDX 2.x\\nуже был как полгода, при этом плагины просто не поддерживали их, и надо либо было даунгрейдиться либо отказываться от плагинов.\\nВспомнил dll hell и всплакнул. Короче \", _jsx(_components.code, {\n        children: \"Gatsby\"\n      }), \" показался неплохим, но страдающим из-за отсутствия финансирования и\\nкак следствие отсутствие качественной поддержки.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"NextJS\"\n      }), \" - то что я в итоге выбрал. У \", _jsx(_components.code, {\n        children: \"NextJS\"\n      }), \" есть разные варианты использования и SSR и SSG (static site generation)\\nи всякие гибридные штуки и прочее прочее. Т.к. бэкенд писать на JS это что-то из области хипстеров, я рассматривал только SSG\\nну и в целом он не плох. Но и не хорош :) В кратце идея там простая и понятная как генерится сайт: есть 2 функции\\n\", _jsx(_components.code, {\n        children: \"getStaticPaths()\"\n      }), \" и \", _jsx(_components.code, {\n        children: \"getStaticProps()\"\n      }), \". Первая генерит параметры пути (URI params), а вторая принимает эти URI params\\nи уже генерит пропсы для отображения странички. Хочешь в базку сходи во время билда, хочешь mdx скомпиль или md прочитай,\\nвсе под твоим полным контролем и это круто. Однако на экспорте передаваемые страничке параметры (page props)\\nсериализуются в json и кладутся вместе в выходную папку, так что не все так радужно.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Более того он ЖУТКО медленый на билде, люди генерящие по 12к страничек  говорят о времени билда под 45 минут :)\\nК тому же next никак это дело не кэширует, и инкрементальный билд именно SSG (перегенерация только изменившихся страниц)\\nотсутствует. Ну я до такого кол-ва страничек не дорос, но отсутствие кэширующего механизма внутри и между \", _jsx(_components.code, {\n        children: \"getStaticPaths\"\n      }), \"\\nи \", _jsx(_components.code, {\n        children: \"getStaticProps\"\n      }), \" это прямо боль, пришлось выдумывать самому (см. \", _jsx(_components.code, {\n        children: \"object-hash\"\n      }), \"). Еще из болячек - интернализация  или в простонародье i18n.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"В \", _jsx(_components.code, {\n        children: \"NextJS\"\n      }), \" она есть из коробки, и ты даже успеваешь ее внедрить и порадоваться, но потом делаешь \", _jsx(_components.code, {\n        children: \"next export\"\n      }), \" и оказывается\\nчто это неподдерживаемая штука для SSG, причем i18n в SSG втащить можно, но это не то решение из коробки и довольно\\nдлительное время Vercel это не фиксит и не собирается похоже. Hot-reload для MD/MDX контента нет, и настроечкой в конфиге\\nэто не фиксится, чтобы организовать \", _jsx(_components.code, {\n        children: \"watching\"\n      }), \" к файлам контента надо написать свой сервер, благо NextJS выдает тебе\\nSDK, но дальше крутись как хочешь. (см. \", _jsx(_components.code, {\n        children: \"chokidar\"\n      }), \")\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Ну вы поняли уже наверное, что к SSG у разрабов \", _jsx(_components.code, {\n        children: \"NextJS\"\n      }), \" отношение посредственное, однако жить можно конечно.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"После того как пописал костыли к \", _jsx(_components.code, {\n        children: \"NextJS\"\n      }), \" решил посмотреть на менее энтерпрайзных собратьев - \", _jsx(_components.code, {\n        children: \"Astro\"\n      }), \". Астро показался\\nнеплохим вариантом, однако ничего шибко примечательного относительно SSG я не увидел, те же подходы с \", _jsx(_components.code, {\n        children: \"getStaticPaths()\"\n      }), \"\\nгде я так и не увидел кэширования (каждая страничка может заново перечитывать весь список постов и компилить mdx например).\", _jsx(_components.br, {}), \"\\n\", \"Хотя есть и плюсы, например не надо самому думать про pagination, md/mdx compilation pipeline и все такое.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Поискав еще варианты могу резюмировать, что достойных вариантов static site only по-сути и нет, нигде не стоит это как\\nпервоочередная штука.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.code, {\n        children: \"(╯°□°)╯︵ ┻━┻\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Ладно что-то и так много написал, потом может напишу как сделал i18n, темы,\\nstatic site search (нет не Algolia, wasm-based \", _jsx(_components.code, {\n        children: \"stork\"\n      }), \", на расте) и прочие штуки для NextJS.\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","filepath":"/_content/ru/new-blog.md","locale":"ru","slug":"new-blog","imageHash":"4af4e6bac756737e1b2b9a29c0740643dc72f6aa"}],"next":"!undefined","previous":"!undefined"},"locale":"ru","urlPathname":"/","urlParsed":{"origin":null,"pathname":"/","pathnameOriginal":"/","search":{},"searchAll":{},"searchOriginal":null,"hash":"","hashOriginal":null}}}</script>
      </body>
    </html>